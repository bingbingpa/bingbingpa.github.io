<!DOCTYPE html><html lang="ko" prefix="og: http://ogp.me/ns#"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.af1934050e65245c9772.css" id="gatsby-global-css">@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:300;src:local("Open Sans Light "),local("Open Sans-Light"),url(/static/open-sans-latin-300-60c866748ff15f5b347fdba64596b1b1.woff2) format("woff2"),url(/static/open-sans-latin-300-521d17bc9f3526c690e8ada6eee55bec.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:300;src:local("Open Sans Light italic"),local("Open Sans-Lightitalic"),url(/static/open-sans-latin-300italic-06bbd3188b34820cd83a0e0b3d0a6f57.woff2) format("woff2"),url(/static/open-sans-latin-300italic-8a648ff38ded89ea15916e84529d62d3.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:400;src:local("Open Sans Regular "),local("Open Sans-Regular"),url(/static/open-sans-latin-400-cffb686d7d2f4682df8342bd4d276e09.woff2) format("woff2"),url(/static/open-sans-latin-400-bf2d0783515b7d75c35bde69e01b3135.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:400;src:local("Open Sans Regular italic"),local("Open Sans-Regularitalic"),url(/static/open-sans-latin-400italic-987032ea5d57c93d8da215678eae3b86.woff2) format("woff2"),url(/static/open-sans-latin-400italic-db70d0b9cb27ada1a260a2b35e756b8b.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:600;src:local("Open Sans SemiBold "),local("Open Sans-SemiBold"),url(/static/open-sans-latin-600-223a277bd88d8a90c8cdf24cda0ad5f5.woff2) format("woff2"),url(/static/open-sans-latin-600-1cd5320f8937d337b61d5117cf9d7b28.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:600;src:local("Open Sans SemiBold italic"),local("Open Sans-SemiBolditalic"),url(/static/open-sans-latin-600italic-4950a7205f0b5cefe41fc03ac346e236.woff2) format("woff2"),url(/static/open-sans-latin-600italic-318ea1ada4102c0704a0637228dcad03.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:700;src:local("Open Sans Bold "),local("Open Sans-Bold"),url(/static/open-sans-latin-700-d08c09f2f169f4a6edbcf8b8d1636cb4.woff2) format("woff2"),url(/static/open-sans-latin-700-623e3205570002af47fc2b88f9335d19.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:700;src:local("Open Sans Bold italic"),local("Open Sans-Bolditalic"),url(/static/open-sans-latin-700italic-c02f5da6e82e1efe0b45841bfd49ce37.woff2) format("woff2"),url(/static/open-sans-latin-700italic-72e19cbb0e38c6773a7751156752cec4.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:800;src:local("Open Sans ExtraBold "),local("Open Sans-ExtraBold"),url(/static/open-sans-latin-800-aaeffaf205b9bbb09920089a14dbe9e8.woff2) format("woff2"),url(/static/open-sans-latin-800-c6aa0c4a601fb6ac66f8253fa594dff5.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:800;src:local("Open Sans ExtraBold italic"),local("Open Sans-ExtraBolditalic"),url(/static/open-sans-latin-800italic-6b3973ffe02bb6a8be0f8453506ec032.woff2) format("woff2"),url(/static/open-sans-latin-800italic-79b58175343190550489efe46a7f1138.woff) format("woff")}.footer{background:#fff;padding:0 20px 120px}.footer ul{list-style:none;text-align:center;padding:0}.footer ul li{color:#969492;font-size:.8em;padding:2px 10px;position:relative;display:inline-block}.footer ul li:after{content:"\2022";position:absolute;right:-5px}.footer ul li:last-child:after{content:""}@media screen and (min-width:1024px){.footer{padding:0 1em 1.5em}}.item,.showItem{background:transparent;transition:all .5s;display:flex;align-items:center}.item a,.showItem a{padding:10px;display:flex;align-items:center}.item svg,.showItem svg{margin:0 5px 0 0;opacity:.3}.itemList .hideItem{display:none}@media screen and (min-width:1024px){.item a{color:#3e3e3c;padding:10px;transition:all .5s;border-radius:5px}.homepage:not(.fixed) .item a{color:#fff}.item a:hover{color:#709425;background:hsla(0,0%,100%,.4)}.item svg{transition:all .5s}.item:hover svg{fill:#709425;opacity:1}.hero .item:hover svg svg{fill:green}.showItem{display:none}.hiddenItem{text-align:left;padding:5px}.hiddenItem a.inHiddenItem{color:#3e3e3c}.hiddenItem a.inHiddenItem:hover{color:#709425}}.more{cursor:pointer}@media screen and (max-width:1023px){.more{background:#fff;border-radius:5px 5px 0 0;border:1px solid #709425;border-bottom:none;position:absolute;left:50%;top:-35px;width:60px;height:36px;overflow:hidden;z-index:1;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.more:focus{outline:none}.more:focus svg{fill:#709425}.more svg{transition:all .5s;-webkit-transform:rotate(180deg);transform:rotate(180deg);fill:orange}.open .more svg{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@media screen and (min-width:1024px){.more{flex-shrink:0;flex-grow:0;width:44px;height:38px;background:transparent;margin-left:10px;border-radius:5px;border:1px solid #ecebea;display:flex;transition:background-color .5s;justify-content:center;align-items:center;padding:0;z-index:1}.more:focus,.more:hover{outline:none}.more svg{transition:all .5s}.homepage .more{border:1px solid transparent;background-color:color(#fff opacity(-90%))}.homepage .more:hover{background-color:color(#fff opacity(-60%))}.open .more{background-color:color(#fff opacity(-10%));border-bottom-left-radius:0;border-bottom-right-radius:0}.open .more:hover{background-color:hsla(0,0%,100%,.1)}.open .more svg{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fixed .more{border:1px solid #ecebea;height:30px}}.menu{align-items:center;background:#fff;bottom:0;flex-grow:1;left:0;padding:0 10px;position:fixed;z-index:1;transition:all .5s}.itemList,.menu{display:flex;width:100%}.itemList{flex-wrap:wrap;justify-content:center;list-style:none;margin:0;padding:0;position:relative}@media screen and (max-width:1023px){.menu:after{position:absolute;content:"";left:20px;right:20px;top:0;height:1px;background:#709425}.menu.open{padding:20px}.homepage:not(.fixed) .menu{bottom:-100px}}@media screen and (min-width:1024px){.menu{border-top:none;background:transparent;display:flex;position:relative;padding-left:50px;transition:none}.itemList,.menu{justify-content:flex-end}.itemList{padding:0}.hiddenItemList{list-style:none;margin:0;position:absolute;background:#fff;border:1px solid #ecebea;top:48px;right:10px;display:flex;flex-direction:column;justify-content:flex-start;padding:20px;border-radius:5px 0 5px 5px}.hiddenItemList:after{content:"";background:#fff;z-index:10;top:-10px;right:-1px;width:44px;height:10px;position:absolute;border-left:1px solid #ecebea;border-right:1px solid #ecebea}.homepage:not(.fixed) .hiddenItemList{border:1px solid transparent;background:color(#fff opacity(-10%));top:50px}.homepage:not(.fixed) .hiddenItemList:after{top:-11px;border-left:1px solid transparent;border-right:1px solid transparent;background:color(#fff opacity(-10%))}.fixed .hiddenItemList{top:44px}}.header{justify-content:center;background-color:#fff;height:80px;position:relative;top:0;width:100%}.header,.header a.logoType{align-items:center;display:flex}.header a.logoType{flex-direction:"column";color:#3e3e3c}.header a.logoType .logo{flex-shrink:0}.header.homepage{position:absolute;background-color:transparent;height:100px}.h1-header{font-size:1.35em;font-weight:400;margin:0 0 5px}.h2-header{font-weight:400;font-size:.8em;letter-spacing:0;margin:0}.logo{border-radius:65% 75%;border:1px solid #eee;display:inline-block;height:44px;margin:0 20px 0 0;overflow:hidden;width:44px;transition:all .5s}.homepage .logo{height:60px;width:60px}.logo img{width:100%}.sensor-homepage{top:100px}.sensor-default,.sensor-homepage{display:block;position:absolute;bottom:0;z-index:1;left:0;right:0;height:1px}.sensor-default{top:80px}@media screen and (min-width:600px){.header{padding:40px}.header.homepage{height:100px}}@media screen and (max-width:1023px){.header.homepage .logo{border:none}.header.homepage .h1-header,.header.homepage a.logoType{color:#fff}.header.homepage .h2-header{color:#dddbda}}@media screen and (min-width:1024px){.header{align-items:center;display:flex;position:absolute;justify-content:space-between;transition:padding .5s}.header,.header.fixed{background-color:#fff;top:0;width:100%}.header.fixed{height:50px;left:0;padding:0 20px;position:fixed;z-index:1}.header.fixed .h1-header{margin:0 0 2px}.header.fixed .h2-header{display:none}.header.homepage:not(.fixed) .h1-header,.header.homepage:not(.fixed) a.logoType{color:#fff}.header.homepage:not(.fixed) .h2-header{color:#dddbda}.header a.logoType{text-align:left;flex-direction:row;flex-shrink:0;width:auto}.logo{margin:0 20px 0 0}.fixed .logo{height:36px;width:36px}.header.homepage:not(.fixed) .logo{border:none}h2{-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-name:h2Entry;animation-name:h2Entry}@-webkit-keyframes h2Entry{0%{opacity:0}to{opacity:1}}@keyframes h2Entry{0%{opacity:0}to{opacity:1}}}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit;margin:0;padding:0}body{font-family:Open Sans,sans-serif}body h1,body h2,body h3{font-weight:600;line-height:1.1;letter-spacing:-.03em;margin:0}body h1{letter-spacing:-.04em}body p{margin:0}body strong{font-weight:600}body a{text-decoration:none;color:#666}body main{width:auto;display:block;min-height:80vh}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.article{padding:20px;margin:0 auto}@media screen and (min-width:600px){.article{padding:20px 40px;max-width:650px}}@media screen and (min-width:1024px){.article{padding:130px 0 40px;max-width:700px}}.h1-headline{font-size:2.2em;margin:0 0 40px;-webkit-animation-name:headlineEntry;animation-name:headlineEntry;-webkit-animation-duration:1s;animation-duration:1s}.h1-headline span{font-weight:400;display:block;font-size:.5em;letter-spacing:0;margin:0 0 5px}.h1-headline svg{height:.75em;fill:#709425}@-webkit-keyframes headlineEntry{0%{opacity:.5}to{opacity:1}}@keyframes headlineEntry{0%{opacity:.5}to{opacity:1}}@media screen and (min-width:600px){.h1-headline{font-size:2.4em}}@media screen and (min-width:1024px){.h1-headline{font-size:2.8em}}.ul-list{margin:0 0 20px;padding:20px;list-style:circle}.li-list{padding:5px 0;font-size:1.1em;line-height:1.4}.h2-category{margin:0 0 .5em}.h2-category svg{height:.8em;fill:#709425}.form-search{border-bottom:1px solid #aaa}.form-search,.input-search{position:relative;display:flex;justify-content:space-between}.input-search{border:0;width:100%;padding:.2em;font-size:1.4em;flex-grow:1}.link{width:100%;color:#3e3e3c}.li-item{border:1px solid transparent;border-radius:10px;margin:40px 0 60px;padding:10px;position:relative;transition:all .5s;background:transparent}.li-item .gatsby-image-outer-wrapper{border-radius:10px;border:1px solid #ecebea;overflow:hidden}.li-item .gatsby-image-outer-wrapper img{z-index:-1}.li-item:after{bottom:-30px}.li-item:after,.li-item:first-child:before{border-top:1px solid #ecebea;content:"";height:0;position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);transition:all .5s;width:50%}.li-item:first-child:before{top:-30px}.h1-item{padding:20px 10px 0;line-height:1.1;font-size:1.7em;text-remove-gap:both}.h1-item .arrow{display:none;position:relative;top:7px}.item-meta{display:flex;flex-flow:row wrap;font-size:.8em;padding:20px 10px;background:transparent}.item-meta svg{fill:#709425;margin:0 5px 0 0}.item-meta span{align-items:center;display:flex;text-transform:uppercase;margin:5px 10px 5px 0}.item-excerpt{line-height:1.5;padding:0 10px;text-remove-gap:both}@media screen and (min-width:600px){.li-item{padding:20px}.li-item:after{bottom:-40px}.li-item:first-child:before{top:-35px}.h1-item{font-size:2.04em;padding:30px 20px 0;transition:all .5s}.item-meta{padding:30px 20px}.item-excerpt{padding:0 20px}}@media screen and (min-width:1024px){.li-item{padding:0 0 40px}.li-item:after{bottom:-30px}.blogItemLink:first-child>li:before,.li-item:first-child:before{top:-55px}.h1-item{font-size:2.5em;padding:24px 40px 0}.item-meta{padding:30px 40px 10px}.item-excerpt{padding:0 40px}.li-item:hover{border:1px solid #ecebea;box-shadow:0 3px 2px rgba(0,0,0,.03)}.li-item:hover:after{bottom:-50px}.li-item:hover .gatsby-image-wrapper{-webkit-transform:scale(1.1);transform:scale(1.1)}.li-item:hover .h1-item{color:#709425}.li-item:hover .arrow{opacity:1;stroke:orange;-webkit-transform:translateX(0);transform:translateX(0)}.li-item .arrow,.li-item .gatsby-image-wrapper{transition:all .5s}.li-item .arrow{display:inline-block;fill:orange;stroke:orange;stroke-width:40;stroke-linecap:round;opacity:0;-webkit-transform:translateX(-50%);transform:translateX(-50%)}}.main{padding:0 20px}.blog-ul{list-style:none;margin:0 auto;padding:30px 0 10px}@media screen and (min-width:601px){.main{padding:0 0 30px}.blog-ul{max-width:650px}}@media screen and (min-width:1025px){.blog-ul{max-width:700px}}.icon{display:flex;justify-content:flex-end;margin-bottom:20px}.icon svg{height:30px}.bodytext{-webkit-animation-name:bodytextEntry;animation-name:bodytextEntry;-webkit-animation-duration:1s;animation-duration:1s}.bodytext h2,.bodytext h3{margin:1.5em 0 1em}.bodytext h2{line-height:1.2;font-size:1.7em}.bodytext h3{font-size:1.35em;line-height:1.3}.bodytext p{font-size:1.1em;line-height:1.6;margin:0 0 1.5em}.bodytext ul{list-style:circle;margin:0 0 1.5em;padding:0 0 0 1.5em}.bodytext li{margin:.7em 0;line-height:1.5}.bodytext a{font-weight:600;color:#709425;text-decoration:underline}.bodytext a.gatsby-resp-image-link{display:block;margin:2.5em 0;border-radius:10px;overflow:hidden;border:1px solid #ecebea}.bodytext code.language-text{background:#ecebea;text-shadow:none;color:inherit;padding:.1em .3em .2em;border-radius:.1em}@-webkit-keyframes bodytextEntry{0%{opacity:0}to{opacity:1}}@keyframes bodytextEntry{0%{opacity:0}to{opacity:1}}.meta{display:flex;flex-flow:row wrap;font-size:1em;margin:20px 0;background:transparent}.meta svg{fill:#709425;margin:0 5px 0 0}.meta .span-meta{align-items:center;display:flex;text-transform:uppercase;margin:5px 10px 5px 0}@media screen and (min-width:600px){.meta{margin:30px 0 20px}}.author{margin:40px 0;padding:40px 0;border-top:1px solid #ecebea;border-bottom:1px solid #ecebea}.avatar{float:left;border-radius:65% 75%;border:1px solid #ecebea;display:inline-block;height:50px;margin:5px 20px 0 0;overflow:hidden;width:50px}.avatar img{width:100%}.note{font-size:.9em;line-height:1.6}@media screen and (min-width:600px){.author{display:flex}.avatar{flex:0 0 auto}}.links{flex-direction:column;padding:0 20px 40px;border-bottom:1px solid #ecebea;margin:0 0 40px}.links,.links a{display:flex}.links a:nth-child(2){margin:20px 0 0}.links svg{fill:orange;width:20px;height:20px;flex-shrink:0;flex-grow:0;margin:20px}h4{font-weight:600;margin:0;font-size:1.1em}time{color:#969492;display:block;font-weight:400;font-size:.8em;margin-top:.5em}@media screen and (min-width:1024px){.links{flex-direction:row-reverse;justify-content:center}.links a{flex-basis:50%}.links a:nth-child(2){margin:0}.links svg{transition:all .5s;margin:10px}}@media screen and (min-width:1024px) and (hover:hover){.links a:hover svg{-webkit-transform:scale(1.5);transform:scale(1.5)}}@media (max-width:768px){.matrix{width:100%}}.hero{align-items:center;display:flex;justify-content:center}.button-matrix{position:absolute;top:80%;background:#709425;border:0;border-radius:50%;font-size:1.35em;padding:10px 20px;cursor:pointer;width:80px;height:80px}.button-matrix:focus{outline-style:none;background:#709425}.button-matrix svg{position:relative;top:5px;fill:#fff;stroke-width:40;stroke:#fff;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:buttonIconMove;animation-name:buttonIconMove;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes buttonIconMove{0%{-webkit-transform:translateY(0);transform:translateY(0)}50%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes buttonIconMove{0%{-webkit-transform:translateY(0);transform:translateY(0)}50%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.hr-index{margin:0;border:0}</style><meta name="generator" content="Gatsby 2.32.13"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><link rel="canonical" href="https://bingbingpa.github.io/toby-spring-vol1-ch1/" data-baseprotocol="https:" data-basehost="bingbingpa.github.io"/><title data-react-helmet="true">토비의 스프링 3.1(vol1) - 1장 오브젝트와 의존관계 - 삽질 저장소</title><meta data-react-helmet="true" name="description" content="삽질한 내용들을 정리하는 블로그"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="토비의 스프링 3.1(vol1) - 1장 오브젝트와 의존관계 - 삽질 저장소"/><meta data-react-helmet="true" property="og:description" content="삽질한 내용들을 정리하는 블로그"/><meta data-react-helmet="true" property="og:image" content="preview.png"/><meta data-react-helmet="true" property="og:url" content="https://bingbingpa.github.io/toby-spring-vol1-ch1/"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="google-site-verification" content="05n7EQOUWLW-NVaGmvLtb2mFwNCQlApz6zHbZyGwW58"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#666"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link as="script" rel="preload" href="/webpack-runtime-c2c0d39e8212f374ad95.js"/><link as="script" rel="preload" href="/framework-acd7498685eeb36e39da.js"/><link as="script" rel="preload" href="/1bfc9850-d06e3c25ea137ea82c47.js"/><link as="script" rel="preload" href="/app-a319897036c57a587e49.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/3df72598ed628fa3b584613cd093848b9c087970-7e8ab1b1cd93282549c1.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-js-dd92b58e687c0d5ee5f5.js"/><link as="fetch" rel="preload" href="/page-data/toby-spring-vol1-ch1/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/960164547.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/960164547.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#D0E0D8"/><meta name="apple-mobile-web-app-title" content="Lazywill"/><link rel="apple-touch-icon" href="/icons/apple-icon-57x57.png" sizes="57x57"/><link rel="apple-touch-icon" href="/icons/apple-icon-60x60.png" sizes="60x60"/><link rel="apple-touch-icon" href="/icons/apple-icon-72x72.png" sizes="72x72"/><link rel="apple-touch-icon" href="/icons/apple-icon-76x76.png" sizes="76x76"/><link rel="apple-touch-icon" href="/icons/apple-icon-114x114.png" sizes="114x114"/><link rel="apple-touch-icon" href="/icons/apple-icon-120x120.png" sizes="120x120"/><link rel="apple-touch-icon" href="/icons/apple-icon-144x144.png" sizes="144x144"/><link rel="apple-touch-icon" href="/icons/apple-icon-152x152.png" sizes="152x152"/><link rel="apple-touch-icon" href="/icons/apple-icon-180x180.png" sizes="180x180"/><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="header  "><a class="logoType" href="/"><div class="logo"><img src="https://avatars.githubusercontent.com/u/6446144?v=4" alt="삽질저장소"/></div><div class="type"><h1 class="h1-header">삽질저장소</h1><h2 class="h2-header"></h2></div></a><nav class="menu " rel="js-menu"><ul class="itemList"><li class="item"><a class="" data-slug="/" href="/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg> <!-- -->Home</a></li><li class="item"><a class="" data-slug="/category/" href="/category/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"></path></svg> <!-- -->Categories</a></li><li class="item"><a class="" data-slug="/search/" href="/search/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg> <!-- -->Search</a></li><li class="item"><a class="" data-slug="/about/" href="/about/"> <!-- -->About</a></li></ul></nav></header><div class="sensor-default"></div><main><article class="article"><header><h1 class="h1-headline">토비의 스프링 3.1(vol1) - 1장 오브젝트와 의존관계</h1><p class="meta"><span class="span-meta"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" size="18" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"></path></svg> <!-- -->2021-04-19</span><span class="span-meta"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" size="18" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"></path></svg><a href="/category/spring">spring</a></span></p></header><div class="bodytext"><ul>
<li>토비의 스프링 1장을 보고 최신 스프링버전에서 테스트 해보고 정리한 내용.</li>
<li><a href="https://github.com/bingbingpa/dev-book/blob/master/toby-spring">예제 소스</a></li>
</ul>
<h3>1.1 초난감 DAO</h3>
<ul>
<li>DAO(Data Access Object) 는 DB 를 사용해 데이터를 조회하거나 조작하는 기능을 전담하도록 만든 오브젝트를 말한다.</li>
<li>책에서는 mysql-connector jar 파일을 클래스패스에 넣어주게 되어 있지만 테스트한 소스에는 gradle 기반에 mysql-connector8.x 버전의 의존성을 추가 했다.</li>
<li>
<p>JDBC 를 이용한 등록과 조회 기능이 있는 날 것 그대로의 UserDao 클래스를 만든다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:13306/springbook?characterEncoding=UTF-8"</span><span class="token punctuation">,</span> <span class="token string">"spring"</span><span class="token punctuation">,</span> <span class="token string">"book"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token string">"insert into users(id, name, password) values(?,?,?)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      ps<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      c<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:13306/springbook?characterEncoding=UTF-8"</span><span class="token punctuation">,</span> <span class="token string">"spring"</span><span class="token punctuation">,</span> <span class="token string">"book"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
</ul>
<br>
<h3>1.2 DAO 의 분리</h3>
<ul>
<li><strong>관심사의 분리(Separation of Concerns)</strong>: 관심이 같은 것끼리는 하나의 객체 안으로 또는 친한 객체로 모이게 하고, <strong>관심이 다른 것은 가능한 한 따로 떨어져서 서로 영향을 주지 않도록 분리하는 것.</strong></li>
<li>
<p>UserDao 의 관심 사항</p>
<ul>
<li>DB 와 연결을 위한 커텍션을 어떻게 가져올것인가.</li>
<li>사용자 등록을 위해 DB 에 보낼 SQL 문장을 담을 Statement 를 만들고 실행.</li>
<li>작업이 끝나면 사용한 리소스인 Statement 와 Connection 의 리소스 해제.</li>
</ul>
</li>
<li><strong>하나의 관심사가 방만하게 중복되어 있고, 여기저기 흩어져 있어서 다른 관심의 대상과 얽혀 있으면, 변경이 일어날 때 엄청난 고통을 일으키는 원인이 된다.</strong></li>
<li>
<p>중복 코드의 메소드 추출하기</p>
<ul>
<li>DB 연결과 관련된 부분에 변경이 일어났을 경우 getConnection() 이라는 한 메소드의 코드만 수정하면 되도록 변경됐다.</li>
<li>
<p>관심의 종류에 따라 코드를 구분해 놓았기 때문에 한 가지 관심에 대한 변경이 일어날 경우 그 관심이 집중되는 부분의 코드만 수정하면 된다. <strong>관심이 다른 코드가 있는 메소드에는 영향을 주지도 않을뿐더러, 관심 내용이 독립적으로 존재하므로 수정도 간단해졌다.</strong></p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
  <span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
  <span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
  <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:13306/springbook?characterEncoding=UTF-8"</span><span class="token punctuation">,</span> <span class="token string">"spring"</span><span class="token punctuation">,</span> <span class="token string">"book"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
</ul>
</li>
<li>
<p>상속을 통한 확장</p>
<ul>
<li>UserDao 에서 메소드의 구현 코드를 제거하고 getConnection() 을 추상 메소드로 만들어 놓는다. 추상 메소드라서 메소드 코드는 없지만 메소드 자체는 존재한다.</li>
<li>이렇게 하면 UserDao 의 소스코드를 수정하지 않아도 getConnection() 메소드를 원하는 방식으로 확장한 후에 UserDao 의 기능과 함께 사용할 수 있다.</li>
<li>기존에는 같은 클래스에 다른 메소드로 분리됐던 DB 커넥션 연결이라는 관심을 이번에는 상속을 통해 서브클래스로 분리했다.</li>
<li>
<p><strong>클래스 계층 구조를 통해 두 개의 관심이 독립적으로 분리되면서 변경 작업은 한층 용이해졌다.</strong>

  <a
    class="gatsby-resp-image-link"
    href="/static/e46048cec41edc853d0425935782d0f4/7321b/refactoring-extends.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 36%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABvElEQVQoz3WRvU9TYRTG7z/QD7u0CV4wJZSPlAZuaKCUUuot2lAkBiNtYhRoa1pKgLAQFwdnHKGlgaiLJLjhJtKpQxOTDi4mph8mTtXBOuhAaO+P24uXOOhJ3vc578l5nzznOQL/CEVR1KOjotUajQaVSoVarUa1WtXycrl8VWtjvV5HKJVKnJyeUigUyOfzFItFnVa7W82mhrlcDpvNhsPhQJIkvBPj+P1+PB4PTqcTq9VKMplESK2kGRpxE5BlhoYlItHoJVGrpak7OzvX3pnMLiaTCVEU8QWChOfmmAzIBILTDLpcGAwGYrEYwpOnz5i9O8/tmVlGvT7W1jdo/D7n45cffPr6kw+fv/Ptl6pwL4vFYqGr6wZyKMy9hYhKdotQ+A7DqmKz2UwikUBY39zCNyUzHZpBco+yuBy/8rE9tj5yJpvlmvqpU+xU+8aYuhlkwi8z5vHS1z+A0WgkHo8jvDt5z4uXr3h9eMj+wQHHx2//WoxC8w/h7s4OHddFJNWetjW9vX3Yu3sYGHQx4nZjt9svPfzflvXQCY+O3jB/P0JqdZVkaoXFpWUWIlEeq3kqnebBw0dsbz/nAoTMfrsSfR83AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="refactoring-extends"
        title=""
        src="/static/e46048cec41edc853d0425935782d0f4/5a190/refactoring-extends.png"
        srcset="/static/e46048cec41edc853d0425935782d0f4/772e8/refactoring-extends.png 200w,
/static/e46048cec41edc853d0425935782d0f4/e17e5/refactoring-extends.png 400w,
/static/e46048cec41edc853d0425935782d0f4/5a190/refactoring-extends.png 800w,
/static/e46048cec41edc853d0425935782d0f4/7321b/refactoring-extends.png 1184w"
        sizes="(max-width: 800px) 100vw, 800px"
      />
    </span>
  </span>
  
  </a>
    </p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token string">"insert into users(id, name, password) values(?,?,?)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      ps<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      c<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
     <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">abstract</span> <span class="token keyword">protected</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DUserDao</span> <span class="token keyword">extends</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
  <span class="token keyword">protected</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:13306/springbook?characterEncoding=UTF-8"</span><span class="token punctuation">,</span> <span class="token string">"spring"</span><span class="token punctuation">,</span> <span class="token string">"book"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> c<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NUserDao</span> <span class="token keyword">extends</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
  <span class="token keyword">protected</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:13306/springbook?characterEncoding=UTF-8"</span><span class="token punctuation">,</span> <span class="token string">"spring"</span><span class="token punctuation">,</span> <span class="token string">"book"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> c<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
  <span class="token class-name">UserDao</span> dao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NUserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  user<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">"bingbingpa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"shpark"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  dao<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  dao<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" 등록 성공"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">User</span> user2 <span class="token operator">=</span> dao<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user2<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user2<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user2<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" 조회 성공"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
</ul>
</li>
<li>슈퍼클래스에 기본적인 로직의 흐름(커넥션 가져오기, SQL 생성, 실행, 반환 등..)을 만들고, 그 기능의 일부를 추상 메소드나 오버라이딩 가능한 protected 메소드 등으로 만든 뒤 서브클래스에서
이런 메소드를 필요에 맞게 구현해서 사용하도록 하는 방법을 디자인 패턴에서 <strong>템플릿 메소드 패턴</strong>이라고 한다.</li>
<li>서브클래스에서 구체적인 오브젝트 생성 방법을 결정하게 하는 것을 <strong>팩토리 메소드 패턴</strong> 이라고 부르기도 한다.</li>
<li>
<p><strong>문제점</strong></p>
<ul>
<li>상속을 사용했기 때문에 다중 상속이 불가능하고, 후에 다른 목적으로 UserDao 에 상속을 적용하기 힘들다.</li>
<li><strong>상속관계는 두 가지 다른 관심사에 대해 긴밀한 결합을 허용한다.</strong> 서브클래스는 슈퍼클래스의 기능을 직접 사용할 수 있다. 그래서 슈퍼클래스 내부의 변경이 있을 때
모든 서브클래스를 함께 수정하거나 다시 개발해야 할 수도 있다.</li>
</ul>
</li>
</ul>
<br>
<h3>1.3 DAO 의 확장</h3>
<ul>
<li>
<p>클래스 분리</p>
<ul>
<li>관심사가 다르고 변화의 성격이 다른 이 두 가지 코드를 각각 분리한다.</li>
<li>SimpleConnectionMaker 라는 커넥션을 담당하는 오브젝트를 만든다.</li>
<li>
<p>UserDao 는 상속을 통한 방법을 쓰지 않으니 더이상 abstract 일 필요는 없다.

  <a
    class="gatsby-resp-image-link"
    href="/static/f98775edeb0205b654c8bdfef73b7369/d52e5/simple-connection.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEklEQVQY05WQW0sCcRTE9yNFZKtrhpauhRpdKIOwVnHzhgkGSYG9tLj7r0Dw9mB9KfsY+Wi7ioi/toWCHh04zBk4DDNHMgwDvVqjelPltl6nUinz2Gwyn8/5wXK5ZBVImUsNORIlqsZIJFOEIxHS6XMcx/EOFouFx5/jMU8vrxgtAyEElmVhmi2Ey0JYrjZpt9tIhXKN+MExJ6dnpA6P2FXjXBdLfE0mXrrfpKPRB2vKNuu+DYJbIfxKENkfwLcpIwcU/O7EVBUpmy8R3kt6Zup+glB4By2bYzp1/lW2bZvOYEh30KfXH9Dt9el0e5ji2WV3d/Xw7R3p/qHJhZYjr+vohSKZK427RoPZbPZnuMofvwH1lyde8W2PsQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="simple-connection"
        title=""
        src="/static/f98775edeb0205b654c8bdfef73b7369/5a190/simple-connection.png"
        srcset="/static/f98775edeb0205b654c8bdfef73b7369/772e8/simple-connection.png 200w,
/static/f98775edeb0205b654c8bdfef73b7369/e17e5/simple-connection.png 400w,
/static/f98775edeb0205b654c8bdfef73b7369/5a190/simple-connection.png 800w,
/static/f98775edeb0205b654c8bdfef73b7369/d52e5/simple-connection.png 848w"
        sizes="(max-width: 800px) 100vw, 800px"
      />
    </span>
  </span>
  
  </a>
    </p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">SimpleConnectionMaker</span> simpleConnectionMaker<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>simpleConnectionMaker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleConnectionMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>simpleConnectionMaker<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>simpleConnectionMaker<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleConnectionMaker</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:13306/springbook?characterEncoding=UTF-8"</span><span class="token punctuation">,</span> <span class="token string">"spring"</span><span class="token punctuation">,</span> <span class="token string">"book"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> c<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p><strong>문제점</strong></p>
<ul>
<li>DB 커넥션을 제공하는 클래스가 어떤 것인지를 UserDao 가 구체적으로 알고 있어야 한다.</li>
<li>만약 커넥션을 제공하는 다른 클래스를 사용하고 메소드 명이 다를 경우 add(), get() 메소드의 커넥션을 가져오는 코드를 바뀐 메소드명으로 다 수정해줘야 한다.</li>
<li><strong>문제의 근본적인 워인은 UserDao 가 바뀔 수 있는 정보, 즉 DB 커넥션을 가져오는 클래스에 대해 너무 많이 알고 있기 때문이다.</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<p>인터페이스 도입</p>
<ul>
<li>두 개의 클래스가 서로 긴밀하게 연결되어 있지 않도록 <strong>중간에 추상적인 느슨한 연결고리</strong>를 만들어 준다.</li>
<li>추상화란 어떤 것들의 공통적인 성격을 뽑아내어 이를 따로 분리해내는 작업이다.</li>
<li>
<p>인터페이스는 자신을 구현한 클래스에 대한 구체적인 정보는 모두 감춰 버리기 때문에 추상화 해놓은 최소한의 통로를 통해 <strong>접근하는 쪽에서는 오브젝트를 만들 때 사용할 클래스가 무엇인지 몰라도 된다.</strong>

  <a
    class="gatsby-resp-image-link"
    href="/static/6a1b687042358b0580633e021e5ba275/078fe/interface.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 32%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABc0lEQVQY012QzU4iQRSFe8uSjULCgN00GF24cNq2QYkDCPS/iiAiCrRgRttZsOcJ9K2MT6GvQNAd28+yEjdTyZdTuedU1b2l/I3/Mb6/5zF+II5jOufnVKtV6vU6tVqNRqNBu31K56JNt9uV9Ho9qUHgy9x3xrIs5vM5ihOKC1otHNejaTvsmftomoau65LdXYM/xzVsz8YPQnw/kBoILKvE+to66XSaRCLBYDBA8c8usYMA1w+pNlpY5QMymQy5XI5s9heFYpG9UhlTHN4vlTg4OsQwTZEr89swRCaLqqokk0miKEKJ7mIGoyGjaCK4xXZcGfjpUC/oaHlVomobEi2vCVXJ6xoF4W8WN0mlUkynU5TPjw+WyyWLxYLVasXryws7hsmx5+E6jnzAFd8RhidyxK2tbSq2S7PVFHVX+I70DisVZrMZCv+tt7d3Tjt9osmE4TiSXN8MZff9qysc74RrsR+J8YajsazfCL247PP0/MwXgXrqRxLXYdIAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="interface"
        title=""
        src="/static/6a1b687042358b0580633e021e5ba275/5a190/interface.png"
        srcset="/static/6a1b687042358b0580633e021e5ba275/772e8/interface.png 200w,
/static/6a1b687042358b0580633e021e5ba275/e17e5/interface.png 400w,
/static/6a1b687042358b0580633e021e5ba275/5a190/interface.png 800w,
/static/6a1b687042358b0580633e021e5ba275/078fe/interface.png 934w"
        sizes="(max-width: 800px) 100vw, 800px"
      />
    </span>
  </span>
  
  </a>
    </p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ConnectionMaker</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token class-name">Connection</span> <span class="token function">makeConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DConnectionMaker</span> <span class="token keyword">implements</span> <span class="token class-name">ConnectionMaker</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token class-name">Connection</span> <span class="token function">makeConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:13306/springbook?characterEncoding=UTF-8"</span><span class="token punctuation">,</span> <span class="token string">"spring"</span><span class="token punctuation">,</span> <span class="token string">"book"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> c<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">ConnectionMaker</span> connectionMaker<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>connectionMaker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DConnectionMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 여전히 클래스 이름을 DAO 가 알고 있다!</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p><strong>문제점</strong></p>
<ul>
<li>초기에 한 번 어떤 클래스의 오브젝트를 사용할지를 결정하는 생성자의 코드는 제거되지 않고 남아 있다.</li>
<li><strong>UserDao 가 인터페이스가 아니라 구체적인 클래스까지 알아야 한다.</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<p>관계설정 책임의 분리</p>
<ul>
<li>클래스 사이에 관계가 만들어 지는것이 아니고, <strong>단지 오브젝트 사이에 다이내믹한 관계가 만들어 지도록 한다.</strong></li>
<li><strong>클래스 사이의 관계는 코드에 다른 클래스 이름이 나타나기 때문에 만들어지는 것이다. 하지만 오브젝트 사이의 관계는 그렇지 않다.
코드에서는 특정 클래스를 전혀 알지 못하더라도 해당 클래스가 구현한 인터페이스를 사용했다면, 그 클래스의 오브젝트를 인퍼에스 타입으로 받아서 사용할 수 있다.</strong></li>
<li>UserDao 오브젝트가 DConnectionMaker 오브젝트를 사용하게 하려면 두 클래스의 오브젝트 사이에 런타임 사용관계 또는 링크, 또는 의존관계라고 불리는 관계를 맺어주면 된다.</li>
<li>
<p>UserDao 의 생성자를 다음과 같이 인터페이스 타입으로 받도록 수정하고, DConnectionMaker 를 생성하는 책임은 클라이언트(여기서는 main() 메소드)로  넘긴다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span><span class="token class-name">ConnectionMaker</span> connectionMaker<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>connectionMaker <span class="token operator">=</span> connectionMaker<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoTest</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token class-name">ConnectionMaker</span> connectionMaker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DConnectionMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">UserDao</span> dao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span>connectionMaker<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
</ul>
</li>
<li>UserDao 는 자신의 <strong>관심사이자 책임</strong>인 사용자 데이터 액세스 작업을 위해 SQL 을 생성하고, 이를 실행하는 데만 집중할 수 있게 됐다.</li>
<li>인터페이스를 도입하고 클라이언트의 도움을 얻는 방법은 상속을 사용해 비슷한 시도를 했을 경우에 비해 훨씬 유연하다. ConnectionMaker 라는 인터페이스를 사용하기만 한다면
다른 DAO 클래스에도 ConnectionMaker 의 구현 클래스를 그대로 적용할 수 있기 때문이다.</li>
<li>
<p>지금까지 개선하면서 사용한 객체지향의 기술들</p>
<ul>
<li>
<p>개방 폐쇄 원칙(OCP, Open-Closed Principle): 깔끔한 설계를 위해 적용 가능한 객체지향 설계 원칙 중의 하나로,
간단히 정의하자면 <strong>‘클래스나 모듈은 확장에는 열려 있어야 하고 변경에는 닫혀 있어야 한다.’</strong> 라고 할 수 있다.</p>
<ul>
<li>UserDao 는 DB 연결 방법이라는 기능을 확장하는 데는 열려 있고, 자신의 핵심 기능을 구현한 코드는 그런 변화에 영향을 받지 않고 유지할 수 있으므로 변경에는 닫혀 있다고 말할 수 있다.</li>
</ul>
</li>
<li>
<p>높은 응집도와 낮은 결합도</p>
<ul>
<li>
<p>높은 응집도</p>
<ul>
<li>응집도가 높다는 것은 변화가 일어날 때 해당 모듈에서 변하는 부분이 크다는 것으로 설명할 수도 있다. 즉 변경이 일어날 때 모듈의 많은 부분이 함께 바뀐다면 응집도가 높다고 말할 수있다.</li>
<li>만약 모듈의 일부분에만 변경이 일어나도 된다면, 모듈 전체에서 어떤 부분이 바뀌어야 하는지 파악해야 하고, 또 그 변경으로 인해 바뀌지 않는 부분에는 다른 영향을 미치지는 않는지 확인해야 하는 이중의 부담이 생긴다.</li>
</ul>
</li>
<li>
<p>낮은 결합도</p>
<ul>
<li>결합도란 ‘하나의 오브젝트가 변경이 일어날 때에 관계를 맺고 있는 다른 오브젝트에게 변화를 요구하는 정도’이다.</li>
<li>책임과 관심사가 다른 오브젝트 또는 모듈과 낮은 결합도, 즉 느슨하게 연결된 형태를 유지하는 것이 바람직하다.</li>
<li><strong>낮은 결합도란 결국, 하나의 변경이 발생할 때 마치 파문이 이는 것처럼 여타 모듈과 객체로 변경에 대한 요구가 전파되지 않는 상태를 말한다.</strong></li>
<li><strong>결합도가 높아지면 변경에 따르는 작업량이 많아지고, 변경으로 인해 버그가 발생할 가능성이 높아진다.</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<p>전략 패턴</p>
<ul>
<li>자신의 기능 맥락(context)에서, 필요에 따라 변경이 필요한 알고리즘을 인터페이스를 통해 통째로 외부로 분리시키고, 이를 구현한 구체적인 알고리즘 클래스를 필요에 따라 바꿔서 사용할 수 있게 하는 디자인 패턴이다.</li>
<li>UserDao 는 전략 패턴의 컨텍스트에 해당한다. 컨텍스트는 자신의 기능을 수행하는데 필요한 기능 중에서 변경 가능한, DB 연결 방식이라는 알고리즘을 ConnectionMaker 라는
인터페이스로 정의하고, 이를 구현한 클래스, 즉 전략을 바꿔가면서 사용할 수 있게 분리 됐다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<br>
<h3>1.4 제어의 역전(IoC)</h3>
<ul>
<li>UserDaoTest 는 기능이 잘 작동하는지 테스트를 하는 책임과 ConnectionMaker 구현 클래스를 만드는 책임까지 2가지의 책임을 가지고 있다. <strong>하나의 책임만 가지도록 분리하자.</strong></li>
<li>팩토리(factory): 객체의 생성 방법을 결정하고 그렇게 만들어진 오브젝트를 돌려주는 일을 하는 오브젝트. 오브젝트를 생성하는 쪽과 생성된 오브젝트를 사용하는 쪽의 역할과 책임을 깔끔하게 분리하려는 목적으로 사용한다.</li>
<li>
<p>UserDaoTest 는 팩토리로부터 UserDao 오브젝트를 받아다가, <strong>자신의 관심사</strong>인 테스트를 위해 활용하기만 하면 된다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoFactory</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token class-name">UserDao</span> <span class="token function">userDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span><span class="token function">connectionMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">ConnectionMaker</span> <span class="token function">connectionMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DConnectionMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoTest</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token class-name">UserDao</span> dao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserDaoFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">userDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>제어의 역전이란 제어 흐름의 개념을 거꾸로 뒤집는 것이다. <strong>제어의 역전에서는 오브젝트가 자신이 사용할 오브젝트를 스스로 선택하지도, 생성하지도 않는다.</strong>
또 자신도 어떻게 만들어지고 어디서 사용되는지를 알 수 없다. 모든 제어 권한을 자신이 아닌 다른 대상에게 위임하기 때문이다.</li>
<li>
<p>제어의 역전의 예시</p>
<ul>
<li>서블릿: 서블릿에 대한 제어 권한을 가진 컨테이너(tomcat, jetty 등등)가 적절한 시점에 서블릿 클래스의 오브젝트를 만들고 그 안의 메소드를 호출 한다. <a href="https://bingbingpa.github.io/java/web-application-server/">참고</a></li>
<li>템플릿 메소드 패턴: 제어권을 상위 템플릿 메소드에 넘기고 자신은 필요할 때 호출되어 사용되도록 한다는 제어의 역전 개념이 들어 있다.</li>
<li>
<p>프레임 워크</p>
<ul>
<li>애플리케이션 코드가 프레임워크에 의해 사용된다. 프레임워크 위에 개발한 클래스를 등록해두고, 프레임워크가 흐름을 주도하는 중에 개발자가 만든 애플리케이션 코드를 사용하도록 만드는 방식이다.</li>
<li>애플리케이션 코드는 프레임워크가 짜놓은 틀에서 수동적으로 동작해야 한다.</li>
<li><strong>라이브러리와 프레임워크는 다르다.</strong> 라이브러리를 사용하는 애플리케이션 코드는 애플리케이션이 흐름을 직접 제어한다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<br>
<h3>1.5 스프링의 IoC</h3>
<ul>
<li>
<p>용어 정리</p>
<ul>
<li>
<p>빈(bean)</p>
<ul>
<li>빈 또는 빈 오브젝트는 스프링이 IoC 방식으로 관리하는 오브젝트라는 뜻이다. 관리되는 오브젝트라고 부르기도 한다.</li>
<li>스프링을 사용하는 애플리케이션에서 만들어지는 모든 오브젝트가 다 빈은 아니고 그중에서 스프링이 직접 그 생성과 제어를 담당하는 오브젝트만을 빈이라고 부른다.</li>
</ul>
</li>
<li>
<p>빈 팩토리(bean factory)</p>
<ul>
<li>스프링의 IoC 를 담당하는 핵심 컨테이너를 가리킨다. 빈을 등록하고, 생성하고, 조회하고 돌려주고, 그 외에 부가적인 빈을 관리하는 기능을 담당한다.</li>
<li>보통은 이 빈 팩토리를 바로 사용하지 않고 이를 확장한 <strong>애플리케이션 컨텍스트</strong>를 이용한다.</li>
</ul>
</li>
<li>
<p>애플리케이션 컨텍스트(application context)</p>
<ul>
<li>빈 팩토리를 확장한 IoC 컨테이너다. 기본적인 기능은 빈팩토리와 동일하고 여기에 스프링이 제공하는 각종 부가 서비스를 추가로 제공한다.</li>
<li><strong>빈 팩토리라고 부를 때는 주로 빈의 생성과 제어의 관점에서 이야기하는 것이고, 애플리케이션 컨텍스트라고 할 때는 스프링이 제공하는 애플리케이션 지원 기능을 모두 포함해서 이야기하는 것이라고 보면 된다.</strong></li>
</ul>
</li>
<li>
<p>컨테이너(container) 또는 IoC 컨테이너</p>
<ul>
<li>IoC 방식으로 빈을 관리한다는 의미에서 애플리케이션 컨텍스트나 빈 팩토리를 컨테이너 또는 IoC 컨테이너라고도 한다.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>DaoFactory 를 스프링에서 사용하기</p>
<ul>
<li>스프링이 빈 팩토리를 위한 오브젝트 설정을 담당하는 클래스라고 인식할 수 있도록 <strong>@Configuration</strong> 이라는 애노테이션을 추가한다.</li>
<li>
<p>오브젝트를 만들어주는 메소드에는 @Bean 이라는 애노티에션을 붙여준다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoFactory</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Bean</span>
  <span class="token keyword">public</span> <span class="token class-name">UserDao</span> <span class="token function">userDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span><span class="token function">connectionMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Bean</span>
  <span class="token keyword">public</span> <span class="token class-name">ConnectionMaker</span> <span class="token function">connectionMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DConnectionMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>애플리케이션 컨텍스트 적용</p>
<ul>
<li>기존의 DaoFactory 와 같은 팩토리 오브젝트에 대응되는 것이 스프링의 애플리케이션 컨텍스트다.</li>
<li>DaoFactory 와 달리 직접 오브젝트를 생성하고 관계를 맺어주는 코드가 없고, 그런 생성정보와 연관관계 정보를 별도의 설정정보를 통해 얻는다.</li>
<li>@Configuraion 이 붙은 DaoFactory 는 이 애플리케이션 컨텍스트가 활용하는 IoC 설정정보다.</li>
<li>getBean() 메소드는 ApplicationContext 가 관리하는 오브젝트를 요청하는 메소드다.</li>
<li>
<p>@Bean 이라는 애노테이션을 userDao 라는 이름의 메소드에 붙이면 이 메소드의 이름이 바로 빈의 이름이 된다. 빈의 이름은 메소드 이름이 아닌 다른 이름으로도 사용할 수 있다.(@Bean(name=“customName”))</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoTest</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
      <span class="token class-name">ApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">UserDaoFactory</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">UserDao</span> dao <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"userDao"</span><span class="token punctuation">,</span> <span class="token class-name">UserDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>애플리케이션 컨텍스트의 동작방식</p>
<ul>
<li>애플리케이션 컨텍스트는 DaoFactory 클래스를 설정정보로 등록해두고 @Bean 이 붙은 메소드의 이름을 가져와 빈 목록을 만들어 둔다.</li>
<li>클라이언트가 애플리케이션 컨텍스트의 getBean() 메소드를 호출하면 자신의 빈 목록에서 요청한 이름이 있는지 찾고, 있다면 빈을 생성하는 메소드를 호출해서 오브젝트를 생성시킨 후 클라이언트에 돌려준다.</li>
</ul>
</li>
</ul>
<br>
<h3>1.6 싱글톤 레지스트리와 오브젝트 스코프</h3>
<ul>
<li>
<p>오브젝트의 동일성과 동등성</p>
<ul>
<li><strong>자바에서는 두 개의 오브젝트가 완전히 같은 동일한(identical) 오브젝트라고 말하는 것과, 동일한 정보를 담고 있는(equivalent) 오브젝트라고 말하는 것은 분명한 차이가 있다.</strong></li>
<li>전자는 동일성(identity)비교라고 하고, 후자를 동등성(equality) 비교라고 한다. <strong>동일성은 == 연산자로, 동등성은 equals() 메소드를 이용해 비교한다.</strong></li>
</ul>
</li>
<li>스프링은 여러 번에 걸쳐 빈을 요청하더라도 매번 동일한 오브젝트를 돌려준다.</li>
<li>스프링은 기본적으로 별다른 설정을 하지 않으면 내부에서 생성하는 빈 오브젝트를 모두 싱글톤으로 만든다.</li>
<li>애플리케이션 컨텍스트는 싱글톤을 저장하고 관리하는 <strong>싱글톤 레지스트리</strong>이기도 하다.</li>
<li>싱글톤 레지스트리의 장점은 보통의 싱글톤 패턴에서와 같이 스태틱 메소드와 private 생성자를 사용해야 하는 비정상적인 클래스가 아니라 <strong>평범한 자바 클래스를 싱글톤으로 활용하게 해준다.</strong></li>
<li>
<p>싱글톤과 오브젝트의 상태</p>
<ul>
<li>기본적으로 싱글톤이 멀티스레드 환경에서 서비스 형태의 오브젝트로 사용되는 경우에는 <strong>상태정보를 내부에 갖고 있지 않은 무상태(stateless) 방식으로 만들어져야 한다.</strong></li>
<li>다중 사용자의 요청을 한꺼번에 처리하는 스레드들이 동시에 싱글톤 오브젝트의 변수를 수정하는 것은 매우 위험하다.</li>
<li>싱글톤은 기본적으로 인스턴스 필드의 값을 변경하고 유지하는 상태유지(stateful) 방식으로 만들지 않는다. 물론 읽기전용의 값이라면 초기화 시점에서 인스턴스 변수에 저장해두고 공유하는 것은 아무 문제가 없다.</li>
</ul>
</li>
<li>
<p>스프링 빈의 스코프</p>
<ul>
<li><strong>싱글톤 스코프</strong>는 컨테이너 내에 한 개의 오브젝트만 만들어져서, 강제로 제거하지 않는 한 스프링 컨테이너가 존재하는 동안 계속 유지된다.</li>
<li><strong>프로토타입 스코프</strong>는 싱글톤과 달리 컨테이너에 빈을 요청할 때마다 매번 새로운 오브젝트를 만들어 준다.</li>
<li>그 외에 웹을 통해 새로운 HTTP 요청이 생길 때마다 생성되는 <strong>요청 스코프</strong>가 있고, 웹의 세션과 스코프가 유사한 <strong>세션 스코프</strong>도 있다.</li>
</ul>
</li>
</ul>
<br>
<h3>1.7 의존관계 주입(DI)</h3>
<ul>
<li>IoC 라는 용어는 매우 폭넓게 사용되는데, 스프링이 제공하는 IoC 방식을 좀 더 의도가 명확히 드러나는 <strong>의존관계 주입(DI, Dependency Injection)</strong>이라는 이름으로 부른다.</li>
<li><strong>DI 는 오브젝트 레퍼런스를 외부로부터 제공(주입)받고 이를 통해 여타 오브젝트와 다이내믹하게 의존관계가 만들어지는 것이 핵심이다.</strong></li>
<li>
<p>의존관계

  <a
    class="gatsby-resp-image-link"
    href="/static/1400415878eab5070bee0905a1eb2276/f6386/di.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 686px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 27.500000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyUlEQVQY03VRiwrCMAzs//+hTEGnoiJKazf7SnsmmUORGTja7S65y2ZyqRDEmNDvj0iF9DllwhgygIbWGh8NhQghFeVLbfB+wKrbgJgWfaEKU5kQpJRxOl9AfBcIOcaC30o8jGoFSxBC4BAHtoTqK5sauWgqPoXImpC08WY9nLMMh2EY0HVrXO9Wh02J2ttk6tGE3+662lfZxwhrZeCD1/PY7npY52f1Yo/BnxLhc2HlOdW/MhI9/kDf8cd/xs9PERCvJCZxoWfGC4bn12l2fVwaAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="di"
        title=""
        src="/static/1400415878eab5070bee0905a1eb2276/f6386/di.png"
        srcset="/static/1400415878eab5070bee0905a1eb2276/772e8/di.png 200w,
/static/1400415878eab5070bee0905a1eb2276/e17e5/di.png 400w,
/static/1400415878eab5070bee0905a1eb2276/f6386/di.png 686w"
        sizes="(max-width: 686px) 100vw, 686px"
      />
    </span>
  </span>
  
  </a>
    </p>
<ul>
<li>두 개의 클래스 또는 모듈이 의존관계에 있다고 말할 때는 항상 방향성을 부여해줘야 한다. 즉 누가 누구에게 의존하는 관계에 있다는 식이여야 한다.</li>
<li>위의 그림에서는 A 가 B 에 의존하고 있음을 나타낸다.</li>
<li>의존한다는건 의존대상, 여기서는 B 가 변하면 그것이 A 에 영향을 미친다는 뜻이다. 반대로 B 는 A 에 의존하고 있지 않기 때문에 B 는 A 의 변화에 영향을 받지 않는다.</li>
<li><strong>인터페이스에 대해서만 의존관계를 만들어두면 인터페이스 구현 클래스와의 관계는 느슨해지면서 변화에 영향을 덜 받는 상태가 된다. 결합도가 낮다고 설명할 수 있다.</strong></li>
<li>의존관계란 한쪽의 변화가 다른 족에 영향을 주는 것이라고 했으니, 인터페이스를 통해 의존관계를 제한해주면 그만큼 변경에서 자유로워 진다.</li>
</ul>
</li>
<li>
<p>의존관계 주입</p>
<ul>
<li><strong>DI 컨테이너에 의해 런타임 시에 의존 오브젝트를 사용할 수 있도록 그 레퍼런스를 전달받는 과정이 마치 메소드(생성자)를 통해 DI 컨테이너가 주입해주는 것과 같다고 해서 이를 의존관계 주입이라고 부른다.</strong></li>
<li>클래스 모델이나 코드에는 런타임 시점의 의존관계가 드러나지 않아야 한다. 그러기 위해서는 인터페이스에만 의존하고 있어야 한다.</li>
<li>런타임 시점의 의존관계는 컨테이너나 팩토리 같은 제3의 존재가 결정한다.</li>
<li>의존관계는 사용할 오브젝트에 대한 레퍼런스를 외부에서 제공(주입)해줌으로써 만들어진다.</li>
</ul>
</li>
</ul></div><footer><div class="author"><div class="avatar"><img src="https://avatars.githubusercontent.com/u/6446144?v=4" alt="삽질저장소"/></div><div class="note"><p><strong>OpenSesame</strong></p>
<ul>
<li>안되면 될 때 까지!</li>
<li>무분별한 정보 보다는 정확한 정보를 전달하도록 노력하기.</li>
</ul></div></div><div class="links"><a href="/toby-spring-vol1-ch2/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"></path></svg><h4>토비의 스프링 3.1(vol1) - 2장 테스트<!-- --> <time>2021-04-25<!-- --> </time></h4></a><a href="/whiteship-live-study-week15/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"></path></svg><h4>자바 람다식<!-- --> <time>2021-03-05</time></h4></a></div><div></div></footer></article></main><footer class="footer"><ul>
<li>Thank You for Visiting My Blog, Have a Good Day 😆 <br />© 2021 Developer <a href="https://github.com/">shPark</a>, Powered By Gatsby.</li>
</ul></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/toby-spring-vol1-ch1/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-16797aeb1857e4bdc070.js"],"app":["/app-a319897036c57a587e49.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-36dc033f967ae9fe9cda.js"],"component---src-pages-404-js":["/component---src-pages-404-js-29ccc9f03a886ed7280f.js"],"component---src-pages-category-js":["/component---src-pages-category-js-59a162261b03ed3f2568.js"],"component---src-pages-index-js":["/component---src-pages-index-js-04b198601b01d7ef1b07.js"],"component---src-pages-search-js":["/component---src-pages-search-js-d6c22e90e502c95f5fcc.js"],"component---src-templates-category-template-js":["/component---src-templates-category-template-js-3180f369f1d32d0f3a3e.js"],"component---src-templates-page-template-js":["/component---src-templates-page-template-js-67b3bc047f385a030f3d.js"],"component---src-templates-post-template-js":["/component---src-templates-post-template-js-dd92b58e687c0d5ee5f5.js"]};/*]]>*/</script><script src="/polyfill-16797aeb1857e4bdc070.js" nomodule=""></script><script src="/component---src-templates-post-template-js-dd92b58e687c0d5ee5f5.js" async=""></script><script src="/3df72598ed628fa3b584613cd093848b9c087970-7e8ab1b1cd93282549c1.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-a319897036c57a587e49.js" async=""></script><script src="/1bfc9850-d06e3c25ea137ea82c47.js" async=""></script><script src="/framework-acd7498685eeb36e39da.js" async=""></script><script src="/webpack-runtime-c2c0d39e8212f374ad95.js" async=""></script></body></html>