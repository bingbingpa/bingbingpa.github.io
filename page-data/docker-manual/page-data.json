{"componentChunkName":"component---src-templates-post-template-js","path":"/docker-manual/","result":{"data":{"post":{"id":"f41dc10f-4465-58bf-8536-b95b46fb3421","html":"<h2>docker image, container</h2>\n<ul>\n<li>image : 필요한 프로그램, 라이브러리, 소스 등을 설치한 뒤에 이를 파일로 만든 것이다.</li>\n<li>container : 이미지가 실행된 상태가 컨테이너(Container) 이다. 운영체제로 본다면 이미지는 일종의 실행파일, 컨테이너는 프로세스와 유사한 개념이다.</li>\n<li><strong>아래에서 사용되는 명령어는 [] 는 하나의 입력값을, &#x3C;> 는 여러개의 입력값을 의미한다.</strong></li>\n</ul>\n<h2>1. docker 상태 확인</h2>\n<ul>\n<li>\n<p>버전 확인 : docker 의 버전이나 go 언어의 버전, OS, 아키텍처를 확인 할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker version</code></pre></div>\n</li>\n<li>\n<p>실행 환경 확인 : docker 실행 환경의 상세 설정 표시(컨테이너 수, docker 버전, 스토리지 드라이버 종류, OS 종류, 아키텍처 등)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker system info</code></pre></div>\n</li>\n<li>\n<p>디스크 이용 상황 : 상세 내용을 확인할 때는 —v 옵션을 지정한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker system <span class=\"token function\">df</span></code></pre></div>\n</li>\n</ul>\n<h2>2. docker 이미지 조작</h2>\n<ul>\n<li>\n<p>이미지 다운로드 : docker image pull [옵션] 이미지명[:태그명]</p>\n<ul>\n<li>\n<p>태그명을 생락하면 최신판(latest)을 취득한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">docker image pull centos:7</code></pre></div>\n</li>\n<li>\n<p>-a 옵션을 지정하면 모든 태그를 취득 할 수 있다. 또한 -a 옵션을 지정할 때는 docker 이미지명에 태그를 지정할 수 없다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">docker image pull -a centos</code></pre></div>\n</li>\n<li>이미지명에 취득할 url 을 지정할 수도 있다. url 은 프로토콜(https://)을 제외하고 지정한다.</li>\n</ul>\n</li>\n<li>\n<p>이미지 목록 표시</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker image <span class=\"token function\">ls</span> <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>리포지토리명<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정 할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">-all, -a</td>\n<td align=\"left\">모든 이미지를 표시</td>\n</tr>\n<tr>\n<td align=\"left\">--digests</td>\n<td align=\"left\">다이제스트(이미지를 고유하게 식별하기 위한값)를 표시할지 말지</td>\n</tr>\n<tr>\n<td align=\"left\">--no-trunc</td>\n<td align=\"left\">결과를 모두 표시</td>\n</tr>\n<tr>\n<td align=\"left\">--quiet, -q</td>\n<td align=\"left\">docker 이미지 ID만 표시</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>이미지 상세 정보 확인 : 이미지 ID, 작성일, docker 버전, cpu 아키텍처 등을 JSON 형태로 표시한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker image inspect <span class=\"token operator\">&lt;</span>이미지명<span class=\"token operator\">></span></code></pre></div>\n</li>\n<li>\n<p>이미지 commit 히스토리 보기</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker image <span class=\"token function\">history</span> <span class=\"token operator\">&lt;</span>이미지명<span class=\"token operator\">></span></code></pre></div>\n</li>\n<li>\n<p>이미지 태그 설정 : <strong>docker hub 에 등록하기 위해서는 [사용자명/repository명:태그명] 과 같은 명명 규칙을 사용해야 한다.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker image tag <span class=\"token punctuation\">[</span>원본이미지명<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>변경할이미지명:태그명<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p>이미지 검색 : docker hub 에 공개되어 있는 이미지를 검색한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker search <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>검색 키워드<span class=\"token operator\">></span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--no-trunc</td>\n<td align=\"left\">결과를 모두 표시</td>\n</tr>\n<tr>\n<td align=\"left\">--limit n</td>\n<td align=\"left\">n건의 검색 결과를 표시</td>\n</tr>\n<tr>\n<td align=\"left\">--filter=stars=n</td>\n<td align=\"left\">즐겨찾기의 수(n 이상)를 지정</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>이미지 삭제</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker image <span class=\"token function\">rm</span> <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> 이미지명 <span class=\"token punctuation\">[</span>이미지명<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--force, -f</td>\n<td align=\"left\">이미지를 강제로 삭제</td>\n</tr>\n<tr>\n<td align=\"left\">--no-prune</td>\n<td align=\"left\">중간 이미지를 삭제하지 않음</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>사용하지 않는 이미지 삭제</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker image prune <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--all, -a</td>\n<td align=\"left\">사용하지 않는 이미지를 모두 삭제</td>\n</tr>\n<tr>\n<td align=\"left\">--force, -f</td>\n<td align=\"left\">이미지를 강제로 삭제</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>docker hub 에 로그인</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker login <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>서버<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--password, -p</td>\n<td align=\"left\">비밀번호</td>\n</tr>\n<tr>\n<td align=\"left\">--username, -u</td>\n<td align=\"left\">사용자명</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>이미지 업로드 : <strong>업로드 하는 이미지명은 유저명/repository:태그명 이어야 하고, repository 는 docker hub 에서 생성해 주어야 한다.</strong> 태그명이 없을 경우 latest 버전으로 업로드 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker image push 이미지명<span class=\"token punctuation\">[</span>:태그명<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n</ul>\n<h2>3. docker 컨테이너 생성 / 시작 / 정지</h2>\n<ul>\n<li>\n<p>컨테이너 생성 : 이미지로부터 컨테이너를 생성한다. 이미지의 실체는 ‘docker 에서 서버 기능을 작동 시키기 위해 필요한 디렉토리 및 파일들’ 이다. 구체적으로는 Linux의 작동에 필요한 /etc 나 /bin 등과 같은 디렉토리 및 파일들이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container create <span class=\"token punctuation\">[</span>이미지명<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p>컨테이너 상세 정보 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container inspect <span class=\"token operator\">&lt;</span>컨테이너 식별자<span class=\"token operator\">></span></code></pre></div>\n</li>\n<li>\n<p>컨테이너 생성 및 시작</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container run <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> 이미지명<span class=\"token punctuation\">[</span>:태그명<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>인수<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--attach, -a</td>\n<td align=\"left\">표준 입출력, 오류 출력</td>\n</tr>\n<tr>\n<td align=\"left\">--cidfile</td>\n<td align=\"left\">컨테이너 ID를 파일로 출력</td>\n</tr>\n<tr>\n<td align=\"left\">--detach, -d</td>\n<td align=\"left\">컨테이너를 생성하고 백그라운드에서 실행</td>\n</tr>\n<tr>\n<td align=\"left\">--interactive, -i</td>\n<td align=\"left\">컨테이너의 표준 입력을 연다.</td>\n</tr>\n<tr>\n<td align=\"left\">--tty, -t</td>\n<td align=\"left\">단말기 디바이스를 사용한다.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">    docker container run -it --name &quot;test1&quot; centos /bin/cal</code></pre></div>\n<ul>\n<li>docker container run : 컨테이너를 생성 및 실행</li>\n<li>-it : 콘솔에 결과를 출력하는 옵션</li>\n<li>--name “test” : 컨테이너명</li>\n<li>centos : 이미지명(해당 이미지가 없을 경우 pull 받는다.)</li>\n<li>/bin/cal : 컨테이너에서 실행할 명령. /bin/bash를 실행하면 컨테이너 안에서 명령 조작을 할 수 있고 컨테이너를 종료시키려면 exit 명령을 입력하여 쉘을 종료 시킨다.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>컨테이너의 백그라운드 실행</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container run <span class=\"token punctuation\">[</span>실행 옵션<span class=\"token punctuation\">]</span> 이미지명<span class=\"token punctuation\">[</span>:태그명<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>인수<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--detach, -d</td>\n<td align=\"left\">백그라운드에서 실행</td>\n</tr>\n<tr>\n<td align=\"left\">--user, -u</td>\n<td align=\"left\">사용자명을 지정</td>\n</tr>\n<tr>\n<td align=\"left\">--rm</td>\n<td align=\"left\">명령 실행 완료 후에 컨테이너를 자동으로 삭제</td>\n</tr>\n<tr>\n<td align=\"left\">--restart=&#x3C;옵션></td>\n<td align=\"left\">명령의 실행 결과에 따라 재시작을 하는 옵션</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>\n<p>--restart 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">설정값</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">no</td>\n<td align=\"left\">재시작하지 않는다.</td>\n</tr>\n<tr>\n<td align=\"left\">on-failure</td>\n<td align=\"left\">종료 스테이터스가 0이 아닐 때 재시작한다.</td>\n</tr>\n<tr>\n<td align=\"left\">on-failure:횟수n</td>\n<td align=\"left\">종료 스테이터스가 0이 아닐 때 n번 재시작한다.</td>\n</tr>\n<tr>\n<td align=\"left\">always</td>\n<td align=\"left\">항상 재시작한다.</td>\n</tr>\n<tr>\n<td align=\"left\">unless-stopped</td>\n<td align=\"left\">최근 컨테이너가 정지 상태가 아니라면 항상 재시작한다.</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">    docker container run -d centos /bin/ping localhost</code></pre></div>\n<ul>\n<li>docker container run : 컨테이너를 생성 및 실행</li>\n<li>-d : 백그라운드에서 실행하는 옵션</li>\n<li>centos : 이미지명</li>\n<li>/bin/ping localhost : 컨테이너에서 실행할 명령</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>컨테이너의 네트워크 설정</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container run <span class=\"token punctuation\">[</span>네트워크 옵션<span class=\"token punctuation\">]</span> 이미지명<span class=\"token punctuation\">[</span>:태그명<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>인수<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--add-host=[호스트명:IP 주소]</td>\n<td align=\"left\">컨테이너의 /etc/hosts에 호스트명과 ip주소를 정의</td>\n</tr>\n<tr>\n<td align=\"left\">--dns=[IP 주소]</td>\n<td align=\"left\">컨테이너용 DNS 서버의 IP 주소 지정</td>\n</tr>\n<tr>\n<td align=\"left\">-expose</td>\n<td align=\"left\">지정한 범위의 포트 번호를 할당</td>\n</tr>\n<tr>\n<td align=\"left\">--mac-address=[MAC 주소]</td>\n<td align=\"left\">컨테이너의 MAC 주소를 지정</td>\n</tr>\n<tr>\n<td align=\"left\">--net=[bridge |none |container:&#x3C;name | id> |host|NETWORK]</td>\n<td align=\"left\">컨테이너의 네트워크를 지정(default:host)</td>\n</tr>\n<tr>\n<td align=\"left\">--hostname, -h</td>\n<td align=\"left\">컨테이너 자신의 호스트명을 지정</td>\n</tr>\n<tr>\n<td align=\"left\">--publish, -p[호스트의 포트 번호]:컨테이너의 포트 번호]</td>\n<td align=\"left\">호스트와 컨테이너의 포트 매핑(-p 옵션을 여러개 사용하여 컨테이너의 멀티 포트를 호스트 포트와 매핑 할 수 있다.)</td>\n</tr>\n<tr>\n<td align=\"left\">--publish-all, -P</td>\n<td align=\"left\">호스트의 임의의 포트를 컨테이너에 할당</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>\n<p>예시</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">docker container run -d -p 8080:80 nginx</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>자원을 지정하여 컨테이너 생성 및 실행</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container run <span class=\"token punctuation\">[</span>자원 옵션<span class=\"token punctuation\">]</span> 이미지명<span class=\"token punctuation\">[</span>:태그명<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>인수<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--cpu-shares, -c</td>\n<td align=\"left\">CPU 사용 배분(비율)</td>\n</tr>\n<tr>\n<td align=\"left\">--memory, -m</td>\n<td align=\"left\">사용할 메모리를 제한하여 실행(단위는 b, k, m, g 중 하나)</td>\n</tr>\n<tr>\n<td align=\"left\">--volume=[호스트의 디렉토리]:[컨테이너의 디렉토리], -v</td>\n<td align=\"left\">호스트와 컨테이너의 디렉토리를 공유</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>\n<p>예시</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">docker container run --cpu-shares=512 --memory=1g centos</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">docker container run run -v /Users/home/webapp:/usr/share/nginx/html nginx</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>컨테이너를 생성 및 시작하는 환경을 지정</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container run <span class=\"token punctuation\">[</span>환경설정 옵션<span class=\"token punctuation\">]</span> 이미지명<span class=\"token punctuation\">[</span>:태그명<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>인수<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--env=[환경변수], -e</td>\n<td align=\"left\">환경변수를 설정한다.</td>\n</tr>\n<tr>\n<td align=\"left\">--env-file=[파일명]</td>\n<td align=\"left\">환경변수를 파일로부터 설정한다.</td>\n</tr>\n<tr>\n<td align=\"left\">--read-only=[true | false</td>\n<td align=\"left\">컨테이너의 파일 시스템을 읽기 전용으로 만든다.</td>\n</tr>\n<tr>\n<td align=\"left\">--workdir=[패스], -w</td>\n<td align=\"left\">컨테이너의 작업 디렉토리를 지정한다.</td>\n</tr>\n<tr>\n<td align=\"left\">---user=[사용자명], -u</td>\n<td align=\"left\">사용자명 또는 UID를 지정한다.</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>가동 컨테이너 목록 표시</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container <span class=\"token function\">ls</span> <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--all, -a</td>\n<td align=\"left\">실행 중/정지 중인 것도 포함하여 모든 컨테이너를 표시</td>\n</tr>\n<tr>\n<td align=\"left\">--filter, -f</td>\n<td align=\"left\">표시할 컨테이너의 필터링</td>\n</tr>\n<tr>\n<td align=\"left\">--format</td>\n<td align=\"left\">표시 포맷을 지정</td>\n</tr>\n<tr>\n<td align=\"left\">--last, -n</td>\n<td align=\"left\">마지막으로 실행된 n건의 컨테이너만 표시</td>\n</tr>\n<tr>\n<td align=\"left\">--latest, -l</td>\n<td align=\"left\">마지막으로 실행된 컨테이너만 표시</td>\n</tr>\n<tr>\n<td align=\"left\">--no-trunc</td>\n<td align=\"left\">정보를 생략하지 않고 표시</td>\n</tr>\n<tr>\n<td align=\"left\">--quiet, -q</td>\n<td align=\"left\">컨테이너 ID만 표시</td>\n</tr>\n<tr>\n<td align=\"left\">--size, -s</td>\n<td align=\"left\">파일 크기 표시</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>\n<p>예시</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">docker container ls -a -f name=test1</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">docker container ls -a -f exited=0</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>컨테이너 가동 확인 : 상태 확인 종료는 Ctrl + c</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container stats <span class=\"token punctuation\">[</span>컨테이너 식별자<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p>컨테이너에서 실행 중인 프로세스 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container <span class=\"token function\">top</span> <span class=\"token punctuation\">[</span>컨테이너 식별자<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p>실행중인 컨테이너 size 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker <span class=\"token function\">ps</span> --size</code></pre></div>\n</li>\n<li>\n<p>정지하고 있는 컨테이너 시작</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container start <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>컨테이너 식별자<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>컨테이너 식별자<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--attach, -a</td>\n<td align=\"left\">표준 출력, 표준 오류 출력을 연다.</td>\n</tr>\n<tr>\n<td align=\"left\">--interactive, -i</td>\n<td align=\"left\">컨테이너의 표준 입력을 연다.</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>컨테이너 정지</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container stop <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>컨테이너 식별자<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>컨테이너 식별자<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--time, -t</td>\n<td align=\"left\">컨테이너의 정지 시간을 지정(default:10초)</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>컨테이너 재시작</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container restart <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>컨테이너 식별자<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>컨테이너 식별자<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--time, -t</td>\n<td align=\"left\">컨테이너의 정지 시간을 지정(default:10초)</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>컨테이너 삭제</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container <span class=\"token function\">rm</span> <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>컨테이너 식별자<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>컨테이너 식별자<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--force, -f</td>\n<td align=\"left\">실행 중인 컨테이너를 강제로 삭제</td>\n</tr>\n<tr>\n<td align=\"left\">--volumes, -v</td>\n<td align=\"left\">할당한 볼륨을 삭제</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>정지 중인 모든 컨테이너 삭제</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container prune</code></pre></div>\n</li>\n<li>\n<p>컨테이너 중단/재개</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container pause/unpause <span class=\"token operator\">&lt;</span>컨테이너 식별자<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>컨테이너 식별자<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p>네트워크 목록 표시 : docker 는 기본값으로 bridge, host, none 이 세 개의 네트워크를 만들고, 컨테이너 시작 시에 네트워크를 지정하지 않을 때는 기본값인 bridge 로 컨테이너가 시작된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker network <span class=\"token function\">ls</span> <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--filter=[driver | id | lable | name | scope| type], -f</td>\n<td align=\"left\">출력 필터</td>\n</tr>\n<tr>\n<td align=\"left\">--no-trunc</td>\n<td align=\"left\">상세 정보를 출력</td>\n</tr>\n<tr>\n<td align=\"left\">--quite, -q</td>\n<td align=\"left\">네트워크 ID만 표시</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>네트워크 작성</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker network create <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> 네트워크 컨테이너명</code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--driver=[bridge | overlay], -d</td>\n<td align=\"left\">네트워크 브리지 또는 오버레이(default:bridge)</td>\n</tr>\n<tr>\n<td align=\"left\">--ip-range</td>\n<td align=\"left\">컨테이너에 할당하는 IP 주소의 범위를 지정</td>\n</tr>\n<tr>\n<td align=\"left\">--subnet</td>\n<td align=\"left\">서브넷을 CIDR 형식으로 지정</td>\n</tr>\n<tr>\n<td align=\"left\">--ipv6</td>\n<td align=\"left\">IPv6 네트워크를 유효화할지 설정(true/false)</td>\n</tr>\n<tr>\n<td align=\"left\">--lable</td>\n<td align=\"left\">네트워크에 설정하는 라벨</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>네트워크 연결/연결해제</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker network connect/disconnect <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> 네트워크 컨테이너명</code></pre></div>\n<ul>\n<li>\n<p>네트워크 연결 시 지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--ip</td>\n<td align=\"left\">IPv4주소</td>\n</tr>\n<tr>\n<td align=\"left\">--ip6</td>\n<td align=\"left\">IPv6주소</td>\n</tr>\n<tr>\n<td align=\"left\">--alias</td>\n<td align=\"left\">앨리어스명</td>\n</tr>\n<tr>\n<td align=\"left\">--link</td>\n<td align=\"left\">다른 컨테이너에 대한 링크</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>네트워크 상세 정보 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker network inspect <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> 네트워크 컨테이너명</code></pre></div>\n</li>\n<li>\n<p>네트워크 삭제 : 네트워크를 삭제하려면 docker network disconnect 명령을 사용하여 연결 중인 모든 컨테이너와의 연결을 해제해야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker network <span class=\"token function\">rm</span> <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> 네트워크 컨테이너명</code></pre></div>\n</li>\n</ul>\n<h2>4. 가동 중인 docker 컨테이너 조작</h2>\n<ul>\n<li>\n<p>가동 컨테이너 연결</p>\n<ul>\n<li><strong>-d 옵션으로 백그라운드에서 실행중인 컨테이너에는 attach 할 수 없다.</strong></li>\n<li>\n<p>컨테이너에서 분리 : Ctrl + p, Ctrl + q</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container attach <span class=\"token punctuation\">[</span>컨테이너 식별자<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>가동 컨테이너에서 프로세스 실행 : 실행 중인 컨테이너에서만 실행 가능.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container <span class=\"token builtin class-name\">exec</span> <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>컨테이너 식별자<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>실행할 명령<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>인수<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--detach, -d</td>\n<td align=\"left\">명령을 백그라운드에서 실행</td>\n</tr>\n<tr>\n<td align=\"left\">--interactive, -i</td>\n<td align=\"left\">컨테이너의 표준 입력을 연다.</td>\n</tr>\n<tr>\n<td align=\"left\">--tty, -t</td>\n<td align=\"left\">단말기 디바이스를 사용한다.</td>\n</tr>\n<tr>\n<td align=\"left\">--user, -u</td>\n<td align=\"left\">사용자명을 지정한다.</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p>예시</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">docker container exec -it nginx /bin/echo &quot;Hello world&quot;</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>컨테이너 이름 변경</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container <span class=\"token function\">rename</span> <span class=\"token punctuation\">[</span>현재이름<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>변경할이름<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p>컨테이너 안의 파일을 복사</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container <span class=\"token function\">cp</span> <span class=\"token punctuation\">[</span>컨테이너 식별자<span class=\"token punctuation\">]</span>:<span class=\"token punctuation\">[</span>컨테이너 안의 파일 경로<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>호스트의 디렉토리 경로<span class=\"token punctuation\">]</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container <span class=\"token function\">cp</span> <span class=\"token punctuation\">[</span>호스트의 파일<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>컨테이너 식별자<span class=\"token punctuation\">]</span>:<span class=\"token punctuation\">[</span>컨테이너 안의 파일 경로<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p>컨테이너 조작의 변경 내용 확인 : A-파일 추가, D-파일 삭제, C-파일 수정</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container <span class=\"token function\">diff</span> <span class=\"token punctuation\">[</span>컨테이너 식별자<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n</ul>\n<h2>5. docker 이미지 생성</h2>\n<ul>\n<li>\n<p>컨테이너로부더 이미지 작성</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container commit <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>컨테이너 식별자<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>이미지명:<span class=\"token punctuation\">[</span>태그명<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--author, -a</td>\n<td align=\"left\">작성자를 지정</td>\n</tr>\n<tr>\n<td align=\"left\">--message, -m</td>\n<td align=\"left\">메시지를 지정</td>\n</tr>\n<tr>\n<td align=\"left\">--change, c</td>\n<td align=\"left\">commit 시 dockerfile 명령을 지정</td>\n</tr>\n<tr>\n<td align=\"left\">--pause, -p</td>\n<td align=\"left\">컨테이너를 일시 정지하고 commit</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>\n<p>컨테이너를 tar 파일로 출력</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker container <span class=\"token builtin class-name\">export</span> <span class=\"token punctuation\">[</span>컨테이너 식별자<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>출력경로<span class=\"token punctuation\">\\</span>파일명<span class=\"token punctuation\">]</span>.tar</code></pre></div>\n<ul>\n<li>\n<p>예시</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">docker container export nginx &gt; latest.tar</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>tar 파일로부터 이미지 작성</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker image <span class=\"token function\">import</span> <span class=\"token punctuation\">[</span>파일 또는 URL<span class=\"token punctuation\">]</span>  <span class=\"token punctuation\">[</span>이미지명:<span class=\"token punctuation\">[</span>태그명<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>예시</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">docker image import d:\\test.tar test:1.0</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>이미지 저장</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker image save -o <span class=\"token punctuation\">[</span>출력경로<span class=\"token punctuation\">\\</span>파일명<span class=\"token punctuation\">]</span>.tar <span class=\"token punctuation\">[</span>이미지명<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p>이미지 읽어 들이기 : 파일명이 아닌 save 로 저장한 이미지명으로 읽어 들인다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker image load -i <span class=\"token punctuation\">[</span>입력경로<span class=\"token punctuation\">\\</span>파일명<span class=\"token punctuation\">]</span>.tar</code></pre></div>\n</li>\n<li>\n<p>불필요한 이미지/컨테이너 일괄 삭제</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker system prune <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>지정할 수 있는 주요 옵션</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">옵션</th>\n<th align=\"left\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">--all, -a</td>\n<td align=\"left\">사용하지 않는 리소스를 모두 삭제</td>\n</tr>\n<tr>\n<td align=\"left\">--force, -f</td>\n<td align=\"left\">강제적으로 삭제</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/docker-manual/","prefix":"2020-04-23"},"frontmatter":{"title":"docker 시작하기","category":"docker"}},"authornote":{"id":"265dda60-7971-5464-926f-ea569c79ac0a","html":"<p>🔘 안되면 될 때 까지! 🏃 🔘</p>"}},"pageContext":{"slug":"/docker-manual/","prev":{"id":"402c4da6-ef30-56e2-bf0e-166bf9eac2d4","fields":{"slug":"/intellij-keymap/","prefix":"2020-04-06","source":"posts"},"frontmatter":{"title":"intellij 단축키","category":"ide"}},"next":{"id":"fb4fa19b-2b74-54c1-8b53-276af29d1cea","fields":{"slug":"/intellij-jsp/","prefix":"2020-04-24","source":"posts"},"frontmatter":{"title":"intellij JSP 관련 오류 해결 방법","category":"ide"}},"source":"posts"}},"staticQueryHashes":["960164547","960164547"]}