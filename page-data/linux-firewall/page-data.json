{"componentChunkName":"component---src-templates-post-template-js","path":"/linux-firewall/","result":{"data":{"post":{"id":"c979366a-5ee3-5446-b6e9-32f9c7ff7223","html":"<h2>1. firewall 명령어로 포트 열기</h2>\n<ul>\n<li>firewall 명령어를 통해 포트를 열 수 있다. <strong>zone은 서버의 용도에 맞게 사전에 정의된 네트워크의 신뢰 레벨</strong>을 의미한다는데… 난 아직까지는 zone을 따로 추가하지 않고 그냥 public으로 쓰고 있다.</li>\n<li>포트를 추가하고 나면 반드시 firewall을 reload해야지 적용된다.</li>\n<li>적용된 포트는 <strong>sudo firewall-cmd —zone=public —list-all</strong> 명령어로 확인 할 수 있다.</li>\n<li>특정 IP의 포트만 허용하는것도 firewall 명령어로 할 수 있다는데 이건 그냥 xml수정하는게 편해서 xml을 수정해서 적용했다.</li>\n<li>\n<p><strong>아래와 같이 하면 모든IP에 대해서 해당 포트가 열리기 때문에 주의해야 한다.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> firewall-cmd --permanent --zone<span class=\"token operator\">=</span>public --add-port<span class=\"token operator\">=</span><span class=\"token string\">'허용포트'</span>/tcp\n<span class=\"token function\">sudo</span> firewall-cmd --reload\n<span class=\"token function\">sudo</span> firewall-cmd --zone<span class=\"token operator\">=</span>public --list-all</code></pre></div>\n</li>\n</ul>\n<h2>2. firewall xml 수정해서 포트 설정하기</h2>\n<ul>\n<li>일반 사용자 계정으로는 해당 결로에 접근이 안되므로 root계정으로 변경하고  <strong>/etc/firewall/zones/public.xml</strong> 파일의 zone태그안에 아래 내용을 추가하면 된다. 따로 추가한 zone이 있다면 해당 zone의 xml을 수정하면 된다.</li>\n<li>\n<p>ip/뒤에 붙는 숫자는 허용할 IP대역대를 의미한다. IP는 8bit.8bit.8bit.8bit 으로 이루어져 있는데 뒤에 숫자의 비트수만큼 일치하는 IP에 대해 허용한다는 뜻이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rule</span> <span class=\"token attr-name\">family</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ipv4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">address</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>192.168.0.1/24<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>port</span> <span class=\"token attr-name\">protocol</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tcp<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">port</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>22<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>accept</span><span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>rule</span><span class=\"token punctuation\">></span></span></code></pre></div>\n</li>\n</ul>","fields":{"slug":"/linux-firewall/","prefix":"2019-07-28"},"frontmatter":{"title":"방화벽 정책 설정","category":"infra"}},"authornote":{"id":"8b2419cd-9b30-5409-9d2c-da10779777d4","html":"<p><strong>OpenSesame</strong></p>\n<ul>\n<li>안되면 될 때 까지!</li>\n<li>무분별한 정보 보다는 정확한 정보를 전달하도록 노력하기.</li>\n</ul>"}},"pageContext":{"slug":"/linux-firewall/","prev":{"id":"188aa4ee-facd-5717-b555-95df14e9c8bd","fields":{"slug":"/centos-service/","prefix":"2019-07-27","source":"posts"},"frontmatter":{"title":"리눅스에서 톰캣 서비스 등록하기","category":"infra"}},"next":{"id":"01d52b8e-da0c-5c95-818a-5613cde565a8","fields":{"slug":"/linux-mount/","prefix":"2019-07-28","source":"posts"},"frontmatter":{"title":"fdisk 를 통한 파티션 분할","category":"infra"}},"source":"posts"}},"staticQueryHashes":["960164547","960164547"]}