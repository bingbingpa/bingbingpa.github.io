{"componentChunkName":"component---src-templates-post-template-js","path":"/centos-service/","result":{"data":{"post":{"id":"188aa4ee-facd-5717-b555-95df14e9c8bd","html":"<h2>1. Centos7 환경에서 톰캣 서비스 등록</h2>\n<ul>\n<li><strong>/usr/lib/systemd/system/</strong> 경로에 등록하고자 하는 서비스명.service 파일을 생성한다.</li>\n<li>대략 다음과 같이 서비스 파일을 만들면 된다.</li>\n<li>\n<p>user와 ExecStart/ExecStop경로만 잘 적어주면 별 오류 없이 서비스가 잘 등록 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">[</span>Unit<span class=\"token punctuation\">]</span>\n<span class=\"token assign-left variable\">Description</span><span class=\"token operator\">=</span>해당 서비스에 대한 설명\n<span class=\"token assign-left variable\">After</span><span class=\"token operator\">=</span>syslog.target\n\n<span class=\"token punctuation\">[</span>Service<span class=\"token punctuation\">]</span>\n<span class=\"token assign-left variable\">Type</span><span class=\"token operator\">=</span>forking\n<span class=\"token assign-left variable\">User</span><span class=\"token operator\">=</span>사용자명\n<span class=\"token assign-left variable\">Group</span><span class=\"token operator\">=</span>사용자그룹\n<span class=\"token assign-left variable\">ExecStart</span><span class=\"token operator\">=</span>/톰캣경로/bin/startup.sh\n<span class=\"token assign-left variable\">ExecStop</span><span class=\"token operator\">=</span>/톰캣경로/shutdown.sh\n<span class=\"token assign-left variable\">SuccessExitStatus</span><span class=\"token operator\">=</span><span class=\"token number\">143</span>\n\n<span class=\"token punctuation\">[</span>Install<span class=\"token punctuation\">]</span>\n<span class=\"token assign-left variable\">WantedBy</span><span class=\"token operator\">=</span>multi-user.target</code></pre></div>\n</li>\n<li>서비스를 시작하는 방법은 <strong>service</strong>와 <strong>systemctl</strong>이 있는데 service는 centos6이전 버전구문이고 systemctl은 centos7이후 버전의 구문이다. 근데 난 service가 익숙해서 아직도 service로 사용중…</li>\n<li>서비스를 시작하는 방법은 service “/usr/lib/systemd/system/경로에 생성한 서비스 파일명” start 를 하면 된다.</li>\n<li>종료할 때는 <strong>stop</strong>을 사용하고 재시작은 <strong>restart</strong> 현재 서비스의 상태는 <strong>status</strong>로 볼 수 있다.</li>\n</ul>\n<h2>2. 서비스 자동 시작 설정</h2>\n<ul>\n<li>서비스를 자동 시작하는게 그리 좋은것은 아니라고 하는데… 이번에 진행한 프로젝트에서는 장거리에서 유지 보수의 어려움 때문에 서비스를 자동 시작하도록 설정했다.</li>\n<li>\n<p>설정 방법은 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> <span class=\"token string\">\"서비스명\"</span></code></pre></div>\n</li>\n<li>\n<p>다음 명령어로 서비스가 정상적으로 자동 시작으로 등록되었는지 확인 해 볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> systemctl list-unit-files --type <span class=\"token function\">service</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> enabled</code></pre></div>\n</li>\n</ul>","fields":{"slug":"/centos-service/","prefix":"2019-07-27"},"frontmatter":{"title":"리눅스에서 톰캣 서비스 등록하기","category":"infra"}},"authornote":{"id":"8b2419cd-9b30-5409-9d2c-da10779777d4","html":"<p><strong>OpenSesame</strong></p>\n<ul>\n<li>안되면 될 때 까지!</li>\n<li>무분별한 정보 보다는 정확한 정보를 전달하도록 노력하기.</li>\n</ul>"}},"pageContext":{"slug":"/centos-service/","prev":{"id":"9fb37b59-4239-5a39-9334-eae557744ad0","fields":{"slug":"/centos-visudo/","prefix":"2019-07-21","source":"posts"},"frontmatter":{"title":"user 계정 sudo 권한","category":"infra"}},"next":{"id":"044b34d2-4566-57c7-a121-fc75b95529f9","fields":{"slug":"/centos-ulimit/","prefix":"2019-07-27","source":"posts"},"frontmatter":{"title":"ulimit 설정하기","category":"infra"}},"source":"posts"}},"staticQueryHashes":["960164547","960164547"]}