{"componentChunkName":"component---src-templates-post-template-js","path":"/reactive-streams/","result":{"data":{"post":{"id":"ee10578f-c3d1-5cdd-a6ed-d299990eeaee","html":"<h1>ğŸ“˜ ìŠ¤í”„ë§ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë¦¬ì•¡í‹°ë¸Œ í”„ë¡œê·¸ë˜ë° ì±•í„° 1~3</h1>\n<br>\n<h3>ë¦¬ì•¡í‹°ë¸Œ ì‹œìŠ¤í…œê³¼ ë¦¬ì•¡í‹°ë¸Œ í”„ë¡œê·¸ë˜ë°</h3>\n<ul>\n<li><code class=\"language-text\">reactive</code> ì˜ ì‚¬ì „ì  ì˜ë¯¸ì—ëŠ” â€˜ë°˜ì‘ì„ í•˜ëŠ”â€™ì´ë¼ëŠ” ëœ»ì´ ìˆë‹¤. ì¦‰, ì–´ë–¤ ì´ë²¤íŠ¸ë‚˜ ìƒí™©ì´ ë°œìƒí–ˆì„ ë•Œ, ë°˜ì‘ì„ í•´ì„œ ê·¸ì— ë”°ë¼ ì ì ˆí•˜ê²Œ í–‰ë™í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.</li>\n<li>ë¦¬ì•¡í‹°ë¸Œ ì‹œìŠ¤í…œì€ <strong>ë°˜ì‘ì„ ì˜í•˜ëŠ” ì‹œìŠ¤í…œ</strong>ì´ë‹¤. ë‹¤ì‹œ ë§í•´ì„œ <strong>í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì— ì¦‰ê°ì ìœ¼ë¡œ ì‘ë‹µí•¨ìœ¼ë¡œì¨ ì§€ì—° ì‹œê°„ì„ ìµœì†Œí™”í•œë‹¤.</strong></li>\n</ul>\n<h3>ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ì¦ˆ(Reactive Streams)ë€?</h3>\n<ul>\n<li>ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ Non-Blocking ì´ë©´ì„œ ë¹„ë™ê¸°ì ì¸ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ë¦¬ì•¡í‹°ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ í‘œì¤€ ì‚¬ì–‘</li>\n<li>\n<p>ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ì¦ˆë¥¼ êµ¬í˜„í•œ êµ¬í˜„ì²´ë¡œ RxJava, Reactor, Akka Streams, Java 9 Flow API ë“±ì´ ìˆë‹¤.</p>\n<ul>\n<li><strong>RxJava</strong> ì˜ Rx ëŠ” Reactive Extensions ë¼ëŠ” ì˜ë¯¸ì´ë‹¤. RxJava ëŠ” .NET í™˜ê²½ì˜ ë¦¬ì•¡í‹°ë¸Œ í™•ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë„·í”Œë¦­ìŠ¤ì—ì„œ Java ì–¸ì–´ë¡œ í¬íŒ…í•˜ì—¬ ë§Œë“  JVM ê¸°ë°˜ì˜ ëŒ€í‘œì ì¸ ë¦¬ì•¡í‹°ë¸Œ í™•ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.</li>\n<li><strong>Reactor</strong> ëŠ” ìŠ¤í”„ë§íŒ€ì— ì˜í•´ ì£¼ë„ì ìœ¼ë¡œ ê°œë°œëœ ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ì¦ˆì˜ êµ¬í˜„ì²´</li>\n<li><strong>Akka Streams</strong> ëŠ” JVM ìƒì—ì„œ ë™ì‹œì„±ê³¼ ë¶„ì‚° ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹¨ìˆœí™”í•´ ì£¼ëŠ” ì˜¤í”ˆì†ŒìŠ¤ íˆ´í‚·</li>\n<li><strong>Java 9 Flow API</strong></li>\n<li>\n<p>ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì²˜ëŸ¼ ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ì¦ˆë¥¼ êµ¬í˜„í•œ êµ¬í˜„ì²´ê°€ ì•„ë‹ˆë¼ ë¦¬ì•¡í‹°ë¸Œ í‘œì¤€ ì‚¬ì–‘ì˜ SPI(Service Provider Interface)ë¡œì¨ Java API ì— ì •ì˜ë˜ì–´ ìˆë‹¤.</p>\n<ul>\n<li>ìë°”ì—ì„œ ì‚¬ìš©ë˜ëŠ” JDBC ë¥¼ ì˜ˆë¡œë“¤ë©´ JDBC ëŠ” ì‚¬ìš©ì ì…ì¥ì—ì„œëŠ” API ê°€ ë˜ì§€ë§Œ JDBC ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë²¤ë” ì…ì¥ì—ì„œ JDBC ëŠ” SPI ê°€ ëœë‹¤.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ì¦ˆ êµ¬ì„±ìš”ì†Œ</h3>\n<br>\n<table>\n<thead>\n<tr>\n<th>ì»´í¬ë„ŒíŠ¸</th>\n<th>ì„¤ëª…</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Publisher</td>\n<td>ë°ì´í„°ë¥¼ ìƒì„±í•˜ê³  í†µì§€(ë°œí–‰, ê²Œì‹œ, ë°©ì¶œ)í•˜ëŠ” ì—­í• </td>\n</tr>\n<tr>\n<td>Subscriber</td>\n<td>êµ¬ë…í•œ Publisher ë¡œ ë¶€í„° í†µì§€ëœ ë°ì´í„°ë¥¼ ì „ë‹¬ë°›ì•„ì„œ ì²˜ë¦¬í•˜ëŠ” ì—­í• </td>\n</tr>\n<tr>\n<td>Subscription</td>\n<td>Publisher ì— ìš”ì²­í•  ë°ì´í„°ì˜ ê°œìˆ˜ë¥¼ ì§€ì •í•˜ê³ , ë°ì´í„°ì˜ êµ¬ë…ì„ ì·¨ì†Œí•˜ëŠ” ì—­í• ì„ í•œë‹¤.</td>\n</tr>\n<tr>\n<td>Processor</td>\n<td>Publisher ì™€ Subscriber ì˜ ê¸°ëŠ¥ì„ ëª¨ë‘ ê°€ì§€ê³  ìˆë‹¤. ì¦‰, Subscriber ë¡œì„œ ë‹¤ë¥¸ Publisher ë¥¼ êµ¬ë…í•  ìˆ˜ ìˆê³ , Publisher ë¡œì„œ ë‹¤ë¥¸ Subscriber ê°€ êµ¬ë…í•  ìˆ˜ ìˆë‹¤.</td>\n</tr>\n</tbody>\n</table>\n<br>\n<ul>\n<li>Publisher ì™€ Subscriber ì˜ ë™ì‘ ê³¼ì •\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8cdb9f10dea7b0f9acb14a3c32a3cef8/48ca3/reactive-streams-flow.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 74.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACJ0lEQVR42pVT2ZLaQBDj/78u2aSSxWAb8H2Nb2xjm47UwAJvWVd1ja9RqyXNZhxHKfJcqsrIvMzC63q9/lfxmueLlGUpRZFL33eyaZtGfn38EMex5XK5yHeveZ7F3u/l98dPSdNYNo+Xy7KQmlzXFcv6wmTVbzOaPf6bMFVpDJgZqatSzuceZCZtoIDTNInvneR0dCXAGoae+D7WwJcAaxwGYjCSKQpIUwKskCSOJI1j/YfVde0TkKP6vieua4t/OioI7w8HR44HFyPtsDri4Rsb+95R4iiUKAoUOM8zaSDdF+D5fMYGGx9DydJEDBgMfa8ic5w8S9HEA/MAYJ6CRrgnYAzACqZ0XfcE7LGJDBJ0LdAtwSh0jUDsfktBKT02LcusRT21LrMwKSRFzRVwIEPXAbsY3YwkSSwBtfFRoa9yBLhPokj1MyZXQ1iVKVHmnSEfnJ2lupBR29bfjs8wDE+GBHSdm4YctWnqZ3hRHI1RmaZbjeOgMVrm2/jrurwD8geyMzpOcRuLGuaprqfTAU5biNVB3XfsnbrP5xByVPifpF4ARxiQSQrt9tZWN+ysT7G2f2X7+UfBaBaNoaN1XUmDYriZTZrWvsaGwR6H8T7iuzZ8l2ODbVsqy6Nu2XTV+RWn621kalYUmWSMCSpNEg0s39Eksiru8aGzlKK4m8dDQVBq/8WwbVsdl5XdiwbxsDPo1JRntkVjBUMjjswx67q+H8lKAf8BwJV59p3LegUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\"\n        alt=\"reactive-streams-flow\"\n        title=\"\"\n        src=\"/static/8cdb9f10dea7b0f9acb14a3c32a3cef8/5a190/reactive-streams-flow.png\"\n        srcset=\"/static/8cdb9f10dea7b0f9acb14a3c32a3cef8/772e8/reactive-streams-flow.png 200w,\n/static/8cdb9f10dea7b0f9acb14a3c32a3cef8/e17e5/reactive-streams-flow.png 400w,\n/static/8cdb9f10dea7b0f9acb14a3c32a3cef8/5a190/reactive-streams-flow.png 800w,\n/static/8cdb9f10dea7b0f9acb14a3c32a3cef8/48ca3/reactive-streams-flow.png 1084w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n<li>ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ì¦ˆëŠ” ë‹¤ìŒê³¼ ê°™ì€ 4ê°œì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤.\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d53d7091c1fa8bb7eb9c710d38632341/98b6e/reactive-streams-component.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 372px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 59.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABv0lEQVR42o2S2W7bMBBF+TXpW/uWwjEsibJlbdROSdZi7U6ApCiKov9/S7IR4Bht0oeDmSGGl7OQfP7yFTs6wXjYgJp73N+LeKdB0/RXq4FSKvwdttstTGqq883mAabI13VD+ZK7u08g3mGHYxLBfn5GX0YoixiVpIzRVJmyBQ/Q1hx5FiAObUTBESGTWPAcA7alKQ7mFiTyDcSxhWDpwYYznqYKXZthHkqc6wRZfFQU3BPWRhzsFUl4QMRMBJ6B0KcKGRMmDmJPR8oZ+DRialJx2ccpZyJhD8/egbk6fEdTVgq8BwmVQ1EXDN+/LSj7E9LQUi/+qcRS1axV3HJdoYSsh5Gr4chDRL9+4rEvMPYlxi7HpGyhhG8v/w2yJgWCRMyzqHPwlx+YOo55rLBMNS5zg1KMQbb8oeB1wFwDWWZhWBK0lUAsRS5ILuV/qnvT8irIswPmS4S+zXER1XVN9mZWHwkTuRCFCHzxpzi3MD8lSnAaThjk/CIL8jcE/mvuO5DY17EiF5OnJpYlxChaHZoYs5hlxR1Enobr3H9BqOdixXAc2ClDcamQtR3yvkfRD8I/Y898UNfBdf4tpmvjN1MyxNlfdOsZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\"\n        alt=\"reactive-streams-component\"\n        title=\"\"\n        src=\"/static/d53d7091c1fa8bb7eb9c710d38632341/98b6e/reactive-streams-component.png\"\n        srcset=\"/static/d53d7091c1fa8bb7eb9c710d38632341/772e8/reactive-streams-component.png 200w,\n/static/d53d7091c1fa8bb7eb9c710d38632341/98b6e/reactive-streams-component.png 372w\"\n        sizes=\"(max-width: 372px) 100vw, 372px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<h3>Publisher</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Publisher</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Subscriber</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">super</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>subscribe ë©”ì„œë“œëŠ” íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ì€ Subscriber ë¥¼ ë“±ë¡í•˜ëŠ” ì—­í• ì„ í•œë‹¤.</li>\n<li>ê°œë…ìƒìœ¼ë¡œëŠ” Subscriber ê°€ êµ¬ë…í•˜ëŠ” ê²ƒì´ ë§ì§€ë§Œ ì‹¤ì œ ì½”ë“œìƒì—ì„œëŠ” ìœ„ì˜ ì½”ë“œì²˜ëŸ¼ Publisher ê°€ subscribe ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„°ì¸ Subscriber ë¥¼ ë“±ë¡í•˜ëŠ” í˜•íƒœë¡œ êµ¬ë…ì´ ì´ë£¨ì–´ì§„ë‹¤.</li>\n</ul>\n<h3>Subscriber</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Subscriber</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onSubscribe</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Subscription</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onNext</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span> t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onError</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Throwable</span> t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onComplete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong>onSubscribe</strong> ë©”ì„œë“œëŠ” êµ¬ë… ì‹œì‘ ì‹œì ì— ì–´ë–¤ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ì—¬ê¸°ì„œì˜ ì²˜ë¦¬ëŠ” Publisher ì—ê²Œ ìš”ì²­í•  ë°ì´í„°ì˜ ê°œìˆ˜ë¥¼ ì§€ì •í•˜ê±°ë‚˜ êµ¬ë…ì„\ní•´ì§€í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ê³ , ì´ê²ƒì€ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ ë˜ëŠ” Subscription ê°ì²´ë¥¼ í†µí•´ì„œ ì´ë£¨ì–´ì§„ë‹¤.</li>\n<li><strong>onNext</strong> ë©”ì„œë“œëŠ” Publisher ê°€ í†µì§€í•œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì—­í• ì„ í•œë‹¤.</li>\n<li><strong>onError</strong> ë©”ì„œë“œëŠ” Publisher ê°€ ë°ì´í„° í†µì§€ë¥¼ ìœ„í•œ ì²˜ë¦¬ ê³¼ì •ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ í•´ë‹¹ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì—­í• ì„ í•œë‹¤.</li>\n<li><strong>onComplete</strong> ë©”ì„œë“œëŠ” Publisher ê°€ ë°ì´í„° í†µì§€ë¥¼ ì™„ë£Œí–ˆìŒì„ ì•Œë¦´ ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œì´ë‹¤. ë°ì´í„° í†µì§€ê°€ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œë  ê²½ìš°ì— ì–´ë–¤ í›„ì²˜ë¦¬ë¥¼\ní•´ì•¼ í•œë‹¤ë©´ ì´ ë©”ì„œë“œì—ì„œ ì²˜ë¦¬ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ëœë‹¤.</li>\n</ul>\n<h3>Subscription</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Subscription</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">request</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">long</span> n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">cancel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>Subscription ì¸í„°í˜ì´ìŠ¤ëŠ” Subscriber ê°€ êµ¬ë…í•œ ë°ì´í„°ì˜ ê°œìˆ˜ë¥¼ ìš”ì²­í•˜ê±°ë‚˜ ë˜ëŠ” ë°ì´í„° ìš”ì²­ì˜ ì·¨ì†Œ, ì¦‰ êµ¬ë…ì„ í•´ì§€í•˜ëŠ” ì—­í• ì„ í•œë‹¤.</li>\n<li>request ë©”ì„œë“œë¥¼ í†µí•´ì„œ Publisher ì—ê²Œ ë°ì´í„°ì˜ ê°œìˆ˜ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆê³ , cancel ë©”ì„œë“œë¥¼ í†µí•´ êµ¬ë…ì„ í•´ì§€í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<h3>Processor</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Processor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">R</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Subscriber</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Publisher</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>Processor ì˜ ê²½ìš° ë³„ë„ë¡œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë©”ì†Œë“œê°€ ì—†ë‹¤. ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ì™€ ë‹¤ë¥¸ ì ì€ Subscriber ì¸í„°í˜ì´ìŠ¤ì™€ Publisher ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†í•œë‹¤ëŠ” ê²ƒì´ë‹¤.\nì´ëŠ” Processor ê°€ Publisher ì™€ Subscriber ì˜ ê¸°ëŠ¥ì„ ëª¨ë‘ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤.</li>\n</ul>\n<h3>ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ì¦ˆ ê´€ë ¨ ìš©ì–´ ì •ì˜</h3>\n<ul>\n<li>\n<p>Signal</p>\n<ul>\n<li>Publisher ì™€ Subscriber ê°„ì— ì£¼ê³ ë°›ëŠ” ìƒí˜¸ì‘ìš©ì„ ì˜ë¯¸í•œë‹¤.</li>\n<li>onSubscribe, onNext, onComplete, onError, request ë˜ëŠ” cancel ë©”ì„œë“œë¥¼ Signal ì´ë¼ê³  í‘œí˜„í•œë‹¤.</li>\n<li><strong>onSubscribe, onNext, onComplete, onError ë©”ì„œë“œëŠ” Subscriber ì¸í„°í˜ì´ìŠ¤ì— ì •ì˜ë˜ì§€ë§Œ ì´ ë©”ì„œë“œë“¤ì„ ì‹¤ì œ í˜¸ì¶œí•´ì„œ\nì‚¬ìš©í•˜ëŠ” ì£¼ì²´ëŠ” Publisher ì´ê¸° ë•Œë¬¸ì— Publisher ê°€ Subscriber ì—ê²Œ ë³´ë‚´ëŠ” Signal ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.</strong></li>\n<li><strong>request ì™€ cancel ë©”ì„œë“œëŠ” Subscription ì¸í„°í˜ì´ìŠ¤ ì½”ë“œì— ì •ì˜ë˜ì§€ë§Œ ì´ ë©”ì„œë“œë“¤ì„ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” ì£¼ì²´ëŠ”\nSubscriber ì´ë¯€ë¡œ Subscriber ê°€ Publisher ì—ê²Œ ë³´ë‚´ëŠ” Signal ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.</strong></li>\n</ul>\n</li>\n<li>\n<p>Demand</p>\n<ul>\n<li>Subscriber ê°€ Publisher ì—ê²Œ ìš”ì²­í•˜ëŠ” ë°ì´í„°ë¡œ, Publisher ê°€ ì•„ì§ Subscriber ì—ê²Œ ì „ë‹¬í•˜ì§€ ì•ŠëŠ” Subscriber ê°€ ìš”ì²­í•œ ë°ì´í„°ë¥¼ ë§í•œë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>Emit</p>\n<ul>\n<li>ìš°ë¦¬ë§ë¡œ í•´ì„í•˜ë©´ â€˜ë°©ì¶œí•˜ë‹¤â€™ì˜ ì˜ë¯¸ì¸ë°, â€˜ë°ì´í„°ë¥¼ ë‚´ë³´ë‚´ë‹¤â€™ì •ë„ë¡œ ì´í•´í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.</li>\n<li>Publisher ê°€ emit í•˜ëŠ” Signal ì¤‘ì—ì„œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•œ onNext Signal ì„ ë°ì´í„°ë¥¼ emit í•œë‹¤ê³  í‘œí˜„í•˜ê¸°ë„ í•œë‹¤.</li>\n</ul>\n</li>\n</ul>\n<h3>webFlux + Reactor VS webFlux + coroutine</h3>\n<ul>\n<li>ì›¹í”ŒëŸ­ìŠ¤ë¥¼ ê³µë¶€í•˜ë‹¤ë³´ë‹ˆ ì½”í‹€ë¦°ì„ ì‚¬ìš©í•˜ë©´ ì½”ë£¨í‹´ì„ ì‚¬ìš©í•˜ë©´ Reactor ë¥¼ ì•ˆì¨ë„ ë˜ì§€ ì•Šì„ê¹Œ?ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. Reactor ê°€ ì§€ì›í•˜ëŠ” Operator ê°€\në§ê¸´ í•˜ì§€ë§Œ ì½”ë“œë¥¼ ì‘ì„±í•˜ë‹¤ë³´ë©´ ì½œë°±ì§€ì˜¥ì— ë¹ ì§€ëŠ”ê±¸ ë§ì´ ë´¤ê¸° ë•Œë¬¸ì—â€¦</li>\n<li>\n<p>ì´ê²ƒ ì €ê²ƒ ê²€ìƒ‰ì„ í•´ë³´ë‹ˆ ë‹¨ì¼ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í•˜ê±°ë‚˜ ì½”ë“œì˜ ê°€ë…ì„±ì´ ì¤‘ìš”í•˜ë‹¤ë©´ ì½”ë£¨í‹´ì„, ë³µì¡í•œ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ë‹¤ë£¨ê±°ë‚˜ Backpressure ê°€ í•„ìš”í•˜ë‹¤ë©´\në¦¬ì•¡í„°ë¥¼ ì¶”ì²œí•œë‹¤ëŠ” ë‚´ìš©ì´ ë§ì•˜ë‹¤.</p>\n<ul>\n<li><a href=\"https://techblog.woowahan.com/7349/\">ë°°ë¯¼ê´‘ê³ ë¦¬ìŠ¤íŒ… ê°œë°œê¸°(feat. ì½”í”„ë§ê³¼ DSL ê·¸ë¦¬ê³  ì½”ë£¨í‹´)</a></li>\n</ul>\n</li>\n<li>ê·¸ë¦¬ê³  ì§€ê¸ˆ íšŒì‚¬ëŠ” ì½”í‹€ë¦°ì„ ì‚¬ìš©í•˜ì§€ë§Œ ìë°”ë¥¼ ì‚¬ìš©í•˜ëŠ” íšŒì‚¬ê°€ í›¨ì”¬ ë§ì„í…Œë‹ˆâ€¦ ë¦¬ì•¡í„°ë¥¼ ê³µë¶€í•´ë‘ëŠ”ê²Œ ë” ë‚˜ì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤.</li>\n</ul>\n<h3>spring webMVC ì™€ webFlux ë¹„êµ</h3>\n<ul>\n<li>\n<p>webMvc(Blocking I/O)</p>\n<ul>\n<li>api ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ìš”ì²­ì‹œ 5ì´ˆ ë”œë ˆì´ë¥¼ ì£¼ë„ë¡ ì„¤ì •</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@RestController</span>\n<span class=\"token annotation builtin\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/v1/books\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token function\">SpringMvcBranchOfficeController</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> bookMap<span class=\"token operator\">:</span> Map<span class=\"token operator\">&lt;</span>Long<span class=\"token punctuation\">,</span> Book<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation builtin\">@ResponseStatus</span><span class=\"token punctuation\">(</span>HttpStatus<span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation builtin\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/{book-id}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation builtin\">@Throws</span><span class=\"token punctuation\">(</span>InterruptedException<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">getBook</span><span class=\"token punctuation\">(</span><span class=\"token annotation builtin\">@PathVariable</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"book-id\"</span><span class=\"token punctuation\">)</span> bookId<span class=\"token operator\">:</span> Long<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> ResponseEntity<span class=\"token operator\">&lt;</span>Book<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ 5ì´ˆ ë”œë ˆì´</span>\n        Thread<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">5000</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">val</span> book<span class=\"token operator\">:</span> Book<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> bookMap<span class=\"token punctuation\">[</span>bookId<span class=\"token punctuation\">]</span>\n\n        <span class=\"token keyword\">return</span> ResponseEntity<span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>ì‹¤í–‰</p>\n<ul>\n<li>í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ bookMap ì´ë¼ëŠ” ì„ì‹œ ë°ì´í„°ë¥¼ ìƒì„±í•˜ê³  ì»¨íŠ¸ë¡¤ëŸ¬ì— ì£¼ì…í•´ì£¼ì—ˆë‹¤.</li>\n<li>run ë©”ì†Œë“œë¥¼ í†µí•´ application ì´ ì‹¤í–‰ë˜ë©´ 5ë²ˆì˜ api ìš”ì²­ì„ í•œë‹¤.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@SpringBootApplication</span>\n<span class=\"token keyword\">class</span> SpringMvcBranchOfficeApplication <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation builtin\">@Bean</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">bookMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Map<span class=\"token operator\">&lt;</span>Long<span class=\"token punctuation\">,</span> Book<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> bookMap<span class=\"token operator\">:</span> MutableMap<span class=\"token operator\">&lt;</span>Long<span class=\"token punctuation\">,</span> Book<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token function\">HashMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token keyword\">in</span> <span class=\"token number\">1L</span><span class=\"token operator\">..</span><span class=\"token number\">2000000L</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            bookMap<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">Book</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token string\">\"IT Book<span class=\"token interpolation variable\">$i</span>\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> bookMap\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation builtin\">@Bean</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">restTemplate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> RestTemplateBuilder <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">RestTemplateBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation builtin\">@Bean</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> CommandLineRunner <span class=\"token punctuation\">{</span>\n        logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"# ìš”ì²­ ì‹œì‘ ì‹œê°„: {}\"</span><span class=\"token punctuation\">,</span> LocalTime<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token keyword\">in</span> <span class=\"token number\">1</span><span class=\"token operator\">..</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">val</span> book <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getBook</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">.</span><span class=\"token function\">toLong</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}: book name: {}\"</span><span class=\"token punctuation\">,</span> LocalTime<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> book<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">getBook</span><span class=\"token punctuation\">(</span>bookId<span class=\"token operator\">:</span> Long<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Book<span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> restTemplate <span class=\"token operator\">=</span> <span class=\"token function\">RestTemplate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> baseUri <span class=\"token operator\">=</span> UriComponentsBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">scheme</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">host</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">port</span><span class=\"token punctuation\">(</span><span class=\"token number\">8080</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">path</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/v1/books\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">toUri</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">val</span> getBooksUri <span class=\"token operator\">=</span> UriComponentsBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">fromUri</span><span class=\"token punctuation\">(</span>baseUri<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">path</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/{book-id}\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">expand</span><span class=\"token punctuation\">(</span>bookId<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">toUri</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// http://localhost:8080/v1/books/{book-id}</span>\n\n        <span class=\"token keyword\">val</span> response <span class=\"token operator\">=</span>\n            restTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">getForEntity</span><span class=\"token punctuation\">(</span>getBooksUri<span class=\"token punctuation\">,</span> Book<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> book <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>body\n\n        <span class=\"token keyword\">return</span> book\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">companion</span> <span class=\"token keyword\">object</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token annotation builtin\">@JvmStatic</span>\n        <span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>args<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            SpringApplication<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>SpringMvcBranchOfficeApplication<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> logger <span class=\"token keyword\">by</span> <span class=\"token function\">lazyLogger</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>api ì—ì„œ 5ì´ˆì˜ ë”œë ˆì´ë¥¼ ì£¼ê³  ìˆê³  ë™ê¸° ë°©ì‹ìœ¼ë¡œ í˜¸ì¶œë˜ê³  ìˆê¸° ë•Œë¬¸ì— ëª¨ë“  ìš”ì²­ì´ ì™„ë£Œë˜ëŠ”ë°ëŠ” ì•½ 25ì´ˆì •ë„ê°€ ì†Œìš”ëœë‹¤.\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/376bc69d96ff9b295bb0a723de8dea21/ae953/web-mvc.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 11.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAaUlEQVR42j2MSQqAMBAE/YV6ikggm2SP//9Z2xPUw1CzdS29d+ScIWytwXiN6DKUUjhYISXs1mErBRv/ds4reXqPXuvMFt4qe2stljHGXAhFaoJG8vUXXiJxFDLwSVdShLdk3rwIY4x4AOYKPHHoGH+xAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\"\n        alt=\"web-mvc\"\n        title=\"\"\n        src=\"/static/376bc69d96ff9b295bb0a723de8dea21/5a190/web-mvc.png\"\n        srcset=\"/static/376bc69d96ff9b295bb0a723de8dea21/772e8/web-mvc.png 200w,\n/static/376bc69d96ff9b295bb0a723de8dea21/e17e5/web-mvc.png 400w,\n/static/376bc69d96ff9b295bb0a723de8dea21/5a190/web-mvc.png 800w,\n/static/376bc69d96ff9b295bb0a723de8dea21/ae953/web-mvc.png 1132w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n<li>\n<p>webFlux(Non-Blocking I/O)</p>\n<ul>\n<li>ì—¬ê¸°ë„ mvc ì—ì„œì™€ ë™ì¼í•˜ê²Œ 5ì´ˆì˜ ë”œë ˆì´ë¥¼ ì¤€ë‹¤.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/v1/books\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation builtin\">@RestController</span>\n<span class=\"token keyword\">class</span> <span class=\"token function\">SpringReactiveBranchOfficeController</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> bookMap<span class=\"token operator\">:</span> Map<span class=\"token operator\">&lt;</span>Long<span class=\"token punctuation\">,</span> Book<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation builtin\">@ResponseStatus</span><span class=\"token punctuation\">(</span>HttpStatus<span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation builtin\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/{book-id}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation builtin\">@Throws</span><span class=\"token punctuation\">(</span>InterruptedException<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">getBook</span><span class=\"token punctuation\">(</span><span class=\"token annotation builtin\">@PathVariable</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"book-id\"</span><span class=\"token punctuation\">)</span> bookId<span class=\"token operator\">:</span> Long<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Mono<span class=\"token operator\">&lt;</span>Book<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n        Thread<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">5000</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">val</span> book<span class=\"token operator\">:</span> Book <span class=\"token operator\">=</span> bookMap<span class=\"token punctuation\">[</span>bookId<span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token keyword\">throw</span> <span class=\"token function\">RuntimeException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"not found bookId = <span class=\"token interpolation variable\">$bookId</span>\"</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">return</span> Mono<span class=\"token punctuation\">.</span><span class=\"token function\">just</span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>ì‹¤í–‰</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@SpringBootApplication</span>\n<span class=\"token keyword\">class</span> SpringReactiveBranchOfficeApplication <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation builtin\">@Bean</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">bookMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Map<span class=\"token operator\">&lt;</span>Long<span class=\"token punctuation\">,</span> Book<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> bookMap<span class=\"token operator\">:</span> MutableMap<span class=\"token operator\">&lt;</span>Long<span class=\"token punctuation\">,</span> Book<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token function\">HashMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token keyword\">in</span> <span class=\"token number\">1L</span><span class=\"token operator\">..</span><span class=\"token number\">2000000L</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            bookMap<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">Book</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token string\">\"IT Book<span class=\"token interpolation variable\">$i</span>\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> bookMap\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation builtin\">@Bean</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> CommandLineRunner <span class=\"token punctuation\">{</span>\n        logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"# ìš”ì²­ ì‹œì‘ ì‹œê°„: {}\"</span><span class=\"token punctuation\">,</span> LocalTime<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token keyword\">in</span> <span class=\"token number\">1</span><span class=\"token operator\">..</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">getBook</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">.</span><span class=\"token function\">toLong</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span> <span class=\"token punctuation\">{</span> book <span class=\"token operator\">-></span>\n                logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}: book name: {}\"</span><span class=\"token punctuation\">,</span> LocalTime<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> book<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">getBook</span><span class=\"token punctuation\">(</span>bookId<span class=\"token operator\">:</span> Long<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Mono<span class=\"token operator\">&lt;</span>Book<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> baseUri <span class=\"token operator\">=</span> UriComponentsBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">scheme</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">host</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">port</span><span class=\"token punctuation\">(</span><span class=\"token number\">8080</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">path</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/v1/books\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">toUri</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> getBooksUri <span class=\"token operator\">=</span> UriComponentsBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">fromUri</span><span class=\"token punctuation\">(</span>baseUri<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">path</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/{book-id}\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">expand</span><span class=\"token punctuation\">(</span>bookId<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">toUri</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// http://localhost:8080/v1/books/{book-id}</span>\n\n        <span class=\"token keyword\">return</span> WebClient<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">uri</span><span class=\"token punctuation\">(</span>getBooksUri<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">retrieve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">bodyToMono</span><span class=\"token punctuation\">(</span>Book<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">companion</span> <span class=\"token keyword\">object</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token annotation builtin\">@JvmStatic</span>\n        <span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>args<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            SpringApplication<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>SpringReactiveBranchOfficeApplication<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> logger <span class=\"token keyword\">by</span> <span class=\"token function\">lazyLogger</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>webFlux ëŠ” ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ì•½ 5ì´ˆì•ˆì— ëª¨ë“  ìš”ì²­ì´ ì™„ë£Œëœë‹¤.</li>\n<li>webMvc ì˜ ë¡œê·¸ë¥¼ ë³´ë©´ ëª¨ë‘ main ìŠ¤ë ˆë“œì—ì„œ ìˆ˜í–‰ë˜ì§€ë§Œ webFlux ì—ì„œëŠ” ê° ìš”ì²­ì´ ë³„ë„ì˜ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰ë˜ëŠ”ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/11ebb324a10b1c84aded96f38fe3dd66/ae953/web-flux.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 11.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAcUlEQVR42h2OSw7EIAxDe4tmtqNK0OEbINz/Zh6HhRUptl9yrbXQWsMYA3NOhN+DFApijCilIOUMcdEX5j6t4+4d3/fF4FTuVfXIO9feG52Gw5YthPQgh4pMiPHYARIs9IU56YqbZQdOwszswPyhWiv+DgY86yXHFqIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\"\n        alt=\"web-flux\"\n        title=\"\"\n        src=\"/static/11ebb324a10b1c84aded96f38fe3dd66/5a190/web-flux.png\"\n        srcset=\"/static/11ebb324a10b1c84aded96f38fe3dd66/772e8/web-flux.png 200w,\n/static/11ebb324a10b1c84aded96f38fe3dd66/e17e5/web-flux.png 400w,\n/static/11ebb324a10b1c84aded96f38fe3dd66/5a190/web-flux.png 800w,\n/static/11ebb324a10b1c84aded96f38fe3dd66/ae953/web-flux.png 1132w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<h3>Blocking I/O ì™€ Non-Blocking I/O ì˜ íŠ¹ì§•</h3>\n<ul>\n<li>\n<p>Blocking I/O</p>\n<ul>\n<li>ì‘ì—… ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ì¢…ë£Œë  ë•Œê¹Œì§€ ìš”ì²­ ìŠ¤ë ˆë“œê°€ ì°¨ë‹¨ëœë‹¤.</li>\n<li>ìŠ¤ë ˆë“œê°€ ì°¨ë‹¨ë˜ëŠ” ë¬¸ì œë¥¼ ë³´ì™„í•˜ê¸° ìœ„í•´ ë©€í‹°ìŠ¤ë ˆë”© ê¸°ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ë©€í‹°ìŠ¤ë ˆë”© ê¸°ë²• ì‚¬ìš© ì‹œ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ì „í™˜ ë¹„ìš©, ë©”ëª¨ë¦¬ ì‚¬ìš© ì˜¤ë²„í—¤ë“œ, ìŠ¤ë ˆë“œ í’€ì˜ ì‘ë‹µ ì§€ì—° ë“±ì˜ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ìˆë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>Non-Blocking I/O</p>\n<ul>\n<li>ì‘ì—… ìŠ¤ë ˆë“œì˜ ì¢…ë£Œ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ìš”ì²­ ìŠ¤ë ˆë“œê°€ ì°¨ë‹¨ë˜ì§€ ì•ŠëŠ”ë‹¤.</li>\n<li>ì ì€ ìˆ˜ì˜ ìŠ¤ë ˆë“œë§Œ ì‚¬ìš©í•´ ìŠ¤ë ˆë“œ ì „í™˜ ë¹„ìš©ì´ ì ìœ¼ë¯€ë¡œ, CPU ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>\n<li><strong>CPU ë¥¼ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì‘ì—…ì˜ ê²½ìš°ì—ëŠ” ì„±ëŠ¥ì— ì•…ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.</strong></li>\n<li>ì‚¬ìš©ì ìš”ì²­ ì²˜ë¦¬ì—ì„œ ì‘ë‹µê¹Œì§€ ì „ ê³¼ì •ì´ Non-Blocking ì´ì–´ì•¼ ì œëŒ€ë¡œ ëœ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.</li>\n<li>webFlux ì‚¬ìš©í•œë‹¤ê³  í•˜ê³  .block() ìœ¼ë¡œ ë™ê¸°ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©´ ê·¸ëƒ¥ webMvc ì“°ëŠ”ê²Œ ë‚˜ì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤.</li>\n<li>í•˜ì§€ë§Œ .block() ì„ ì–´ì©” ìˆ˜ ì—†ì´ ì‚¬ìš©í–ˆë˜ ê²½ìš°ê°€ ìˆì—ˆëŠ”ë° í´ë¼ì´ì–¸íŠ¸ì—ì„œ api ìš”ì²­ í›„ ë™ê¸°ì‹ìœ¼ë¡œ ê¸°ë‹¤ë¦¬ëŠ” ê²½ìš° í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ëŠê¸°ê²Œ ë˜ë©´ api ìš”ì²­ì´ cancel ë˜ëŠ” ê²½ìš°ê°€ ìˆì–´ì„œ\nblock ì„ ì‚¬ìš©í–ˆë˜ ì ì´ ìˆë‹¤. í´ë¼ì´ì–¸íŠ¸ê¹Œì§€ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ë¥¼ í•´ì•¼ ì±…ì— ìˆëŠ” ê²ƒì²˜ëŸ¼ ì œëŒ€ë¡œ ëœ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ê³  ìƒê°í•œë‹¤.</li>\n</ul>\n</li>\n</ul>\n<h3>Reference</h3>\n<ul>\n<li>ìŠ¤í”„ë§ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë¦¬ì•¡í‹°ë¸Œ í”„ë¡œê·¸ë˜ë°</li>\n<li><a href=\"https://github.com/bingbingpa/dev-book/tree/main/spring-reactive/src/main/kotlin/me/bingbingpa/ch03\">ì‚¬ìš©í•œ ìƒ˜í”Œ ì½”ë“œ</a></li>\n</ul>","fields":{"slug":"/reactive-streams/","prefix":"2024-02-02"},"frontmatter":{"title":"reactive streams ê°œë… ì •ë¦¬ì™€ spring webMVC ì™€ webFlux ì½”ë“œ ë¹„êµ","category":"spring-reactive"}},"authornote":{"id":"265dda60-7971-5464-926f-ea569c79ac0a","html":"<p>ğŸ”˜ ì•ˆë˜ë©´ ë  ë•Œ ê¹Œì§€! ğŸƒ ğŸ”˜</p>"}},"pageContext":{"slug":"/reactive-streams/","prev":{"id":"1017c77c-64ca-5ccd-bd05-a37b8007873f","fields":{"slug":"/spring-async-config/","prefix":"2022-02-06","source":"posts"},"frontmatter":{"title":"ìŠ¤í”„ë§ Async multi config ì„¤ì •í•˜ê¸°","category":"spring"}},"next":{"id":"3c5b822d-bef2-5132-b44a-c4df3e843df5","fields":{"slug":"/reactor-marble-diagram/","prefix":"2024-02-10","source":"posts"},"frontmatter":{"title":"Reactor íŠ¹ì§•ê³¼ ë§ˆë¸”ë‹¤ì´ì–´ê·¸ë¨","category":"spring-reactive"}},"source":"posts"}},"staticQueryHashes":["960164547","960164547"]}