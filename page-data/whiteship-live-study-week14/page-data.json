{"componentChunkName":"component---src-templates-post-template-js","path":"/whiteship-live-study-week14/","result":{"data":{"post":{"id":"0ccf78ad-683f-59a3-9f94-ac177b35cf9f","html":"<h2>whiteship/live-study 14주차 정리</h2>\n<ul>\n<li>\n<p>목표</p>\n<ul>\n<li><a href=\"https://github.com/whiteship/live-study/issues/14\">자바의 제네릭에 대해 학습하세요.</a></li>\n</ul>\n</li>\n<li>\n<p>학습할 것 (필수)</p>\n<ul>\n<li>제네릭 사용법</li>\n<li>제네릭 주요 개념 (바운디드 타입, 와일드 카드)</li>\n<li>제네릭 메소드 만들기</li>\n<li>Erasure</li>\n</ul>\n</li>\n</ul>\n<br>\n<h3>1. 제네릭 사용법</h3>\n<ul>\n<li>\n<p>제네릭 기본 이해</p>\n<ul>\n<li>제네릭은 자바 5 에서 추가된 기능으로, <strong>클래스나 메소드에서 사용할 데이터 타입을 컴파일시에 미리 지정하는 방법이다.</strong></li>\n<li>\n<p>제네릭을 사용하면 코드의 품질이나 가독성이 높아진다. 아래의 두 코드를 비교해 보면 제네릭을 사용하면 특별히 주석에 명시하지 않아도 데이터가 String 을 포함한다는 것을 바로 알 수 있지만\n그다음 줄의 List 객체는 제네릭을 사용하지 않았기 때문에 선언만으로는 확인이 불가능하고 소스 코드 전체를 확인해 봐야 사용하는 데이터 유형을 알 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> nameList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">List</span> nameList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>제네릭을 사용하면 얻을 수 있는 장점</p>\n<ul>\n<li>사용하고자 하는 데이터 타입을 명확히 선언할 수 있다.</li>\n<li><strong>정확한 데이터를 사용했는지 여부를 컴파일하는 시점에 확인할 수 있다.</strong></li>\n<li>클래스 캐스트가 필요 없기 때문에 불필요한 소스 코드를 줄일 수 있다.</li>\n<li>객체 선언 시 명확한 데이터를 지정할 수 있기 때문에 소스 코드의 가독성을 높일 수 있다.</li>\n</ul>\n</li>\n<li>\n<p>제네릭 사용법</p>\n<ul>\n<li>제네릭 타입은 <strong>&#x3C;></strong> 구문 안에 원하는 개수만큼 ’,’ 로 구분해서 기술하면 되는데 만일 클래스가 상속 관계에 있다면 상속 클래스에도 제네릭으로 선언할 수 있다.터</li>\n<li>\n<p>ClassName 다음에 있는 ’&#x3C;>’ 부분은 자바 언어 스펙에서의 공식 용어는 <strong>타입 파라미터(Type Parameter)</strong> 이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassName</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Type1</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Type2</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Type3</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token class-name\">TypeN</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassName</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Type1</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Type2</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Type3</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token class-name\">TypeN</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">SuperClass</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Type1</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Type2</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token class-name\">TypeN</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>제네릭 타입 파라미터 규칙</p>\n<ul>\n<li>자바의 파일면은 제네릭을 제외하고 만든다. 예를 들어 코드가 MyList&#x3C;A> 라면 파일명은 MyList.java 이다.</li>\n<li>같은 패키지안에 클래스명은 같고 제네릭명은 다르게 선언할 수 없다. 즉, <strong>제네릭은 어디까지나 보조적인 정보이지 클래스명을 결정하는 구성 요소는 아니다.</strong></li>\n<li>제네릭 표현식 안의 문자는 자바의 변수 선언과 동일하다. 숫자여서는 안되고 숫자로 시작해서도 안되며, 특수 문자 중 ’_‘를 제외하고 처음 시작 문자로 사용할 수 없고 유니코드 문자를 지원한다.</li>\n<li>통상적으로 대문자 영문 한 글자를 쓰는 게 관례이다.</li>\n<li>객체의 생성과 선언 시 타입 파라미터는 동일해야 한다. 예를 들어 MyList<String> myList = new MyList<Integer>(); 같은 형태의 선언은 컴파일 에러가 발생한다.</li>\n</ul>\n</li>\n<li>\n<p>제네릭과 관련 타입 파라미터명에 대한 관습적인 정의</p>\n<ul>\n<li><strong>E</strong>: Elements 를 뜻한다. 주로 컬렉션 프레임워크 같은 목록성 데이터를 관리하는 클래스의 제네릭 타입을 정의할 때 사용한다.</li>\n<li><strong>K</strong>: Key 를 뜻한다. 이름과 값으루 구성된 데이터(예: HashTable, HashMap 등)를 관리하는 클래스에서 사용한다.</li>\n<li><strong>V</strong>: Value 를 뜻한다. K 와 함께 조합해서 이름과 값으로 구성된 데이터를 관리하는 클래스에 사용한다. 주로 &#x3C;K, V> 와 같은 형태로 정의한다.</li>\n<li><strong>T</strong>: 타입을 뜻한다. 주로 VO 나 엔티티형 클래스에서 원하는 데이터 타입을 제네릭 형태로 선언하고 싶을 때 사용한다.</li>\n<li><strong>N</strong>: Number 를 뜻한다.</li>\n<li><strong>R</strong>: Return 을 뜻한다. 메서드의 리턴 타입을 지정하고 싶을 때 사용한다.</li>\n</ul>\n</li>\n</ul>\n<br>\n<h3>2. 제네릭 클래스/메소드 만들기</h3>\n<ul>\n<li>\n<p>제네릭 클래스와 로우 타입</p>\n<ul>\n<li>아래의 제네릭 적용전 코드에서 List list = new ArrayList() 라고 선언하였는데, List 인터페이스와 ArrayList 클래스는 제네릭으로 설계된 컬렉션 프레임워크의 핵심 기능중 하나이지만\n제네릭 타입으로 선언하지 않았다. 이렇게 제네릭으로 설계된 클래스임에도 불구하고 제네릭을 사용하지 않고 선언한 객체를  <strong>로우 타입</strong>(Raw Type)이라고 한다.</li>\n<li><strong>로우 타입은 제네릭이 도입 되기 이전 코드와의 호환성을 위해 제공될 뿐이며, 런타임에 예외가 발생할 수 있기 때문에 사용하면 안된다.</strong></li>\n<li>\n<p>제네릭 적용 전</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomList</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span> list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> element<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> index<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>제네릭 적용</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GenericCustomList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> element<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">E</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> index<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>멀티 타입 파라미터 클래스</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GenericCustomMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">K</span> key<span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">V</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">K</span> key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>제네릭 메소드</p>\n<ul>\n<li>\n<p>제네렉 메소드 설계 시 고려해야 할점</p>\n<ul>\n<li>제네릭 메서드에서 선언한 타입의 범위는 메서드 내부로 제한된다.</li>\n<li>일반 메서드뿐만 아니라 정적 메서드에서도 제네릭을 사용할 수 있다.</li>\n<li><strong>정적 메서드를 정의할 때 리턴 값을 기술하기 전에 반드시 제네릭 타입 파라미터를 먼저 선언해야 한다.</strong> 왜냐하면 제네릭에서 K 와 V 값은 객체를 생성하면서 결정하는데 정적 메서드는\n객체화하지 않고 호출하는 메서드이기 때문이다.</li>\n<li>제네릭 메서드도 제네릭 클래스와 마찬가지로 호출할 때 제네릭 타입을 생략할 수 있다.</li>\n</ul>\n</li>\n<li>\n<p>제네릭 메서드 만들기</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">K</span> key<span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">V</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">K</span> key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>스태틱 제네릭 메서드 만들기</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GenericUtil</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">sorting</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> map<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> map<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> prop <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 스태틱 제네릭 메소드 호출 예제(호출할 때 타입은 생략 가능)</span>\n<span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> sortedProp <span class=\"token operator\">=</span> <span class=\"token class-name\">GenericUtil</span><span class=\"token punctuation\">.</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span><span class=\"token function\">sorting</span><span class=\"token punctuation\">(</span>prop<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<br>\n<h3>3. Erasure</h3>\n<ul>\n<li>\n<p>제네릭 타입을 사용한 자바 클래스</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GenericErasureExample</span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> myList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    myList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    myList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"World\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">String</span> hello <span class=\"token operator\">=</span> myList<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">String</span> world <span class=\"token operator\">=</span> myList<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>hello <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> world<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>디컴파일 결과</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GenericErasureExample</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">GenericErasureExample</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> myList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    myList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    myList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"World\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">String</span> hello <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span>myList<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">String</span> world <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span>myList<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>hello <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> world<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>원래 작성한 자바 파일과 디컴파일한 코드를 잘 비교해 보면 제네릭 타입 선언 등의 내용이 삭제되고 변환된 것을 볼 수 있다. 이를 <strong>제네릭 삭제</strong>(Generic Erasure) 라고 한다.</li>\n<li>자바 5에서 제네릭 삭제 개념이 적용된 것은 하위 버전 호환성 때문이다.</li>\n<li>\n<p>위의 코드의 다른 부분을 보면 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> myList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 코딩 내용</span>\n<span class=\"token class-name\">ArrayList</span> myList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 디컴파일 결과</span></code></pre></div>\n</li>\n<li>변수명은 동일하지만 제네릭 타입 파라미터는 제거되었다. <strong>타입 파라미터는 컴파일러에 의해 해석되는 부분이고 자바 가상 머신에서는 해석이 되지 않기 때문이다.</strong> 그래서 제네릭은 런타임에\n체크하는 것이 아니라 컴파일 시에 정합성을 체크하게 된다.</li>\n<li>\n<p>위의 비교로 알 수 있는 제네릭 관련 원칙</p>\n<ul>\n<li>제네릭은 컴파일 시에 해석되고 바이트 코드로 변환될 때는 제거된다. 즉, 자바 가상 머신은 제네릭을 고려하지 않고 실행되며 제네릭이 제거된 기본 클래스형으로만 처리한다.</li>\n<li>클래스 선언 시 사용된 제네렉 타입은 제거되며 메서드에서 리턴 받을 때는 컴파일러에 의해 형 변환된 코드가 자동 추가 된다.</li>\n</ul>\n</li>\n<li><strong>자바 가상 머신상에서 제네릭 코드를 제거하는 이유는 제네릭을 해석하기 위한 추가적인 자원 소모를 없애고 자바 가상 머신이 빠르게, 그리고 명확하게 동작하도록 하기 위해서다.</strong></li>\n</ul>\n<br>\n<h3>4. 제네릭 주요 개념 (바운디드 타입, 와일드 카드)</h3>\n<ul>\n<li>\n<p>와일드 카드(Wildcard)</p>\n<ul>\n<li>와일드카드란 카드 게임에서 유래된 용어로 카드 플레이어가 자기 맘대로 사용할 수 있는 만능 카드를 의미한다. 컴퓨터 용어에서는 이보다 좀 더 확장된 개념으로 사용하는데 주로\n패턴을 정의할 때 많이 사용하며 ‘전체’ 의 의미로 쓰이거나 특정 문자에 따라 조건이 지정된다는 뜻으로 쓰인다.</li>\n<li>주로 잘 알려진 와일드카드는 ’?’ 와 ’*’ 인데 제네릭에서는 ’?’ 만 와일드카드로 사용할 수 있다.</li>\n</ul>\n</li>\n<li>\n<p><strong>와일드카드에서 특정 타입으로 제한하는 것을 바운드 타입 파라미터</strong>라고 하며 두 가지 접근 방법을 선택 할 수 있다.</p>\n<ul>\n<li>다음과 같이 엔티티 클래스의 상속 관계를 설계 했다고 하였을 때 각각 extends 와 super 를 이용하여 바운드 타입 파라미터를 지정 할 수있다.\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2d44d05dac0231a86796de89c6c6e464/48c0e/extends.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 440px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBnbm9tZS1zY3JlZW5zaG907wO/PgAAAahJREFUeNptUtty2jAQ9cd0gmTLtuQL+CKBKQFMHSBQ0mkyeUle0plOXtIPSP/8dCVCY9o8nFlpz57VXuQFQYA+fN8/nq3lzN0/wllsD96/DgvOOWSSQl+2qE2FWhuY8dhZTYii6MNkfxOekwJscIHcTPHl5RXX31q0qxV2Xw9Yb7a46jpIqcB7mr7e65fvuxY5WQ7hD6BXt8hGNcrLPfKqwWi8RDnbImCf3uLYf+2/tywEQpm9IUcQSSTNDkEoIcsFhBwiyjSU7sgXI1S5ixNhRPr3pB7nPjijl0gYJhXZmJIlEHEKn9rnbODutkV3FrHjgkghICtUAUZ+m8dVmMgYFmk+QkZIVAwlpdvykZPUtiZuiDRNaH6xqyiJQ+KUG0mWpVBKHSuc3D5h/fyCzWaK9faAm+93mC+WEOwCnx9/YffzB1btFFebPfaHG0yaBiElnD//xvXDHbpuSZp7GGOoUgZvaBr6HgvUdUHQRIxRFIWrsGjmMLMZqqpAWdXQJMpzmpsIaDktzHRCXOk01m+/m+c2ZWfonzbNj9YOmWZzxp1w4k6xPfwB1PE/U/rIwHcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\"\n        alt=\"extends\"\n        title=\"\"\n        src=\"/static/2d44d05dac0231a86796de89c6c6e464/48c0e/extends.png\"\n        srcset=\"/static/2d44d05dac0231a86796de89c6c6e464/772e8/extends.png 200w,\n/static/2d44d05dac0231a86796de89c6c6e464/e17e5/extends.png 400w,\n/static/2d44d05dac0231a86796de89c6c6e464/48c0e/extends.png 440w\"\n        sizes=\"(max-width: 440px) 100vw, 440px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n<li>\n<p>extends 를 이용한 제한</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GenericBoundExample</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Vehicle</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> <span class=\"token class-name\">T</span> vehicleType<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setVehicleType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span> vehicleType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>vehicleType <span class=\"token operator\">=</span> vehicleType<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">T</span> <span class=\"token function\">getVehicleType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> vehicleType<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5164f350eb38e30eae3c7a0306c244ac/76aed/error.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 546px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 27.999999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBnbm9tZS1zY3JlZW5zaG907wO/PgAAAQVJREFUeNpdUFtyxCAMy3Ug4Q0BQiC7ae9/JdUm2+lMPzQCWcjGyxkVatDoSU8e2eIeO9o5cLSOPdfJ3lmobYNSmqCgtH5A5430jXhdVyw+RPTxQr/eGK8b1/vGSfezXyi1wfsA9lQn0WpBG+xjfOG6v9H6QIwJlbzWaCzGWuRSUY+G4+yTGSlnmq4gkTnGiBwsaimIaUeY2j7P3JCnNtbRD1YOdDTJ8QS2v8CDtJODU5oTJm9x5Ii45xnESHtBIM4TmcI9Fv47T2mMnWypATdx2sCRxvtZV9rdJmHUNmvssY48zj9sDAKxpp0uUkpIISClmCzEh0kXrHF9YsWvV/yH/Lyj+g/ODb72sT+0wAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\"\n        alt=\"error\"\n        title=\"\"\n        src=\"/static/5164f350eb38e30eae3c7a0306c244ac/76aed/error.png\"\n        srcset=\"/static/5164f350eb38e30eae3c7a0306c244ac/772e8/error.png 200w,\n/static/5164f350eb38e30eae3c7a0306c244ac/e17e5/error.png 400w,\n/static/5164f350eb38e30eae3c7a0306c244ac/76aed/error.png 546w\"\n        sizes=\"(max-width: 546px) 100vw, 546px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n</li>\n<li>\n<p>super 를 이용한 제한</p>\n<ul>\n<li>지정한 클래스나 인터페이스의 상위 클래스 혹은 인터페이스를 허용하겠다는 것이다.</li>\n<li>위의 엔티티 클래스들의 상속 관계에서 타입을 Truck 으로 지정하였다면 사용할 수 있는 타입은 Truck, Vehicle 그리고 Object 클래스이다.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>extends VS super</p>\n<ul>\n<li>\n<p>소프트웨어에 대한 요구 사항이나 환경, 개발자의 성향에 따라 달라질 수 있지만 일반적인 선택 기준은 다음과 같다.</p>\n<ul>\n<li>제네릭 메서드에서 입력 파라미터의 경우 extends 와일드카드를 이용하는 것이 좋다.</li>\n<li>제네릭 메서드에서 출력 파라미터의 경우 super 와일드카드를 이용하는 것이 좋다.</li>\n<li><strong>입력은 데이터를 생성하는 주체이고 출력은 데이터를 소비하는 주체이다.\n그래서 생성과 관련된 것은 extends, 소비와 관련된 것은 super 를 사용한다고 정의하기도 한다.</strong> <em>—이펙티브 자바. 아이템 31- 한정적 와일드카드를 사용해 API 유연성을 높이라.—</em></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<br>\n<h3>5. 제네릭 제약 조건</h3>\n<ul>\n<li>제네릭의 타입은 자바의 기본형을 사용할 수 없다.</li>\n<li>제네릭 코딩은 컴파일 시에만 사용된다.</li>\n<li>\n<p>제네릭 타입으로 정의한 배열은 생성할 수 없다.</p>\n<ul>\n<li>변수 선언은 가능하지만 생성은 불가능하며 컴파일 에러가 발생한다.</li>\n</ul>\n</li>\n<li>\n<p>제네릭의 타입 변수로 객체를 생성할 수 없다.</p>\n<ul>\n<li>타입 변수로 많이 사용하는 T, K, V, E 등으로 클래스 내부에서 객체를 생성할 수 없다.</li>\n</ul>\n</li>\n<li>\n<p>제네릭 타입 변수는 정적 필드 혹은 메서드에서 사용할 수 없다.</p>\n<ul>\n<li>정적 필드의 경우 클래스가 로딩되면서 생성되고, 싱글턴 형태로 계속 메모리에 남아서 재사용되는데 이를 제네릭 타입으로 특정할 수 없기 때문이다.</li>\n</ul>\n</li>\n<li>제네릭 클래스를 catch 하거나 throw 할 수 없다. catch 절에서는 타입 변수가 아닌 예외 클래스를 직접 명시해야만 한다.</li>\n</ul>\n<br>\n<h3>6. 다이아몬드 연산자</h3>\n<ul>\n<li>\n<p>자바 7 부터 도입 되었으며, 객체 선언부에 &#x3C;> 를 기술하면 변수 선언 시에 사용한 제네릭 타입이 그대로 적용된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">List</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> myMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p><strong>다이아몬드 연산자는 오직 객체를 생성하는 부분에서만 사용할 수 있다.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span> myMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">List</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 컴파일 에러 발생</span></code></pre></div>\n</li>\n<li>위의 코드에서 컴파일 에러가 발생하는 이유는 <strong>컴파일러가 제네릭의 타입을 추정할 때 변수에 선언해 놓은 파라미터를 바탕으로 추정하기 때문이다.</strong></li>\n<li>\n<p>자바 10 부터는 변수를 선언 할 때 특정한 클래스를 지정하지 않고 타입 추론이 가능하도록 <strong>var</strong> 를 사용할 수 있으며, 다음과 같이 코드의 양을 줄일 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">var</span> myMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">List</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<br>\n<h4>참조</h4>\n<ul>\n<li>Practical 모던 자바 <em>-인사이트-</em></li>\n</ul>","fields":{"slug":"/whiteship-live-study-week14/","prefix":"2021-02-23"},"frontmatter":{"title":"자바 제네릭","category":"whiteship-live-study"}},"authornote":{"id":"265dda60-7971-5464-926f-ea569c79ac0a","html":"<p>🔘 안되면 될 때 까지! 🏃 🔘</p>"}},"pageContext":{"slug":"/whiteship-live-study-week14/","prev":{"id":"524562c0-7ad3-561a-aeaf-acfb824311ce","fields":{"slug":"/whiteship-live-study-week13/","prefix":"2021-02-11","source":"posts"},"frontmatter":{"title":"자바 I/O","category":"whiteship-live-study"}},"next":{"id":"350d2618-350c-5d8d-a8ad-71b1874a8b75","fields":{"slug":"/whiteship-live-study-week15/","prefix":"2021-03-05","source":"posts"},"frontmatter":{"title":"자바 람다식","category":"whiteship-live-study"}},"source":"posts"}},"staticQueryHashes":["960164547","960164547"]}